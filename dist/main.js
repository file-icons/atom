module.exports=function(e){var t={};function s(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,s),r.l=!0,r.exports}return s.m=e,s.c=t,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)s.d(n,r,function(t){return e[t]}.bind(null,r));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="",s(s.s=18)}([function(e,t){e.exports=require("atom")},function(e,t,s){"use strict";const n=s(23);class r{constructor(){const e=s(24);this.directoryIcons=this.read(e[0]),this.fileIcons=this.read(e[1]),this.binaryIcon=this.matchName(".o"),this.executableIcon=this.matchInterpreter("bash")}read(e){let[t,s]=e;t=t.map((e,t)=>new n(t,...e)),s=s.map(e=>e.map(e=>t[e]));const[r,i,o,a,l]=s;return{byName:t,byInterpreter:r,byLanguage:i,byPath:o,byScope:a,bySignature:l}}matchName(e,t=!1){const[s,n]=t?[i.directoryName,this.directoryIcons.byName]:[i.fileName,this.fileIcons.byName],r=s.get(e);if(r)return r;for(let t=0,r=n.length;t<r;++t){const r=n[t];if(r.match.test(e))return s.set(e,r),r}return null}matchPath(e,t=!1){const[s,n]=t?[i.directoryName,this.directoryIcons.byPath]:[i.fileName,this.fileIcons.byPath],r=s.get(e);if(r)return r;for(let t=0,r=n.length;t<r;++t){const r=n[t];if(r.match.test(e))return s.set(e,r),r}return null}matchLanguage(e){const t=i.language.get(e);if(t)return t;const s=this.fileIcons.byLanguage;for(let t=0,n=s.length;t<n;++t){const n=s[t];if(n.lang.test(e))return i.language.set(e,n),n}return null}matchScope(e){const t=i.scope.get(e);if(t)return t;const s=this.fileIcons.byScope;for(let t=0,n=s.length;t<n;++t){const n=s[t];if(n.scope.test(e))return i.scope.set(e,n),n}return null}matchInterpreter(e){const t=i.interpreter.get(e);if(t)return t;const s=this.fileIcons.byInterpreter;for(let t=0,n=s.length;t<n;++t){const n=s[t];if(n.interpreter.test(e))return i.interpreter.set(e,n),n}return null}matchSignature(e){const t=i.signature.get(e);if(t)return t;const s=this.fileIcons.bySignature;for(let t=0,n=s.length;t<n;++t){const n=s[t];if(n.signature.test(e))return i.signature.set(e,n),n}return/\0/.test(e)?(i.signature.set(e,this.binaryIcon),this.binaryIcon):null}}const i={directoryName:new Map,directoryPath:new Map,fileName:new Map,filePath:new Map,interpreter:new Map,scope:new Map,language:new Map,signature:new Map};Object.defineProperty(r.prototype,"cache",{get:()=>i}),e.exports=new r},function(e,t){e.exports=require("path")},function(e,t){e.exports=require("atom-fs")},function(e,t,s){"use strict";const{CompositeDisposable:n,Emitter:r}=s(0),i=s(6),o=s(9),a="file-icons";e.exports=new class{init(){this.disposables=new n,this.configNames=new Map,this.emitter=new r,this.register("coloured"),this.register("onChanges","colourChangedOnly"),this.register("defaultIconClass",null,e=>e.split(/\s+/)),this.register("tabPaneIcon"),this.register("strategies.grammar"),this.register("strategies.hashbangs"),this.register("strategies.modelines"),this.register("strategies.usertypes"),this.register("strategies.linguist"),this.addCommand("clear-cache",()=>i.reset()),this.addCommand("toggle-colours",()=>this.toggle("coloured")),this.addCommand("toggle-changed-only",()=>this.toggle("colourChangedOnly")),this.addCommand("toggle-tab-icons",()=>this.toggle("tabPaneIcon")),this.disposables.add(this.observe("coloured",e=>{const t=document.body.classList;t.toggle(a+"-colourless",!e),t.toggle(a+"-coloured",e)}))}reset(){this.disposables.dispose(),this.disposables=null,this.emitter.emit("did-destroy"),this.emitter.dispose(),this.emitter=null}onDidChange(e,t){return this.emitter.on(`did-change-${e}`,t)}observe(e,t){return t(this[e]),this.onDidChange(e,t)}get colourMode(){return this.coloured?~~o.lightTheme:null}register(e,t=null,s=null){const n=t||e.replace(/^\w+\./,""),r=`${a}.${e}`;this.configNames.set(n,e);const i=atom.config.observe(r,e=>{s&&(e=s(e)),this[n]=e,this.emitter.emit("did-change-"+n,e)});this.disposables.add(i)}addCommand(e,t){const s=`${a}:${e}`,n=atom.commands.add("atom-workspace",s,t);return this.disposables.add(n),n}toggle(e){const t=`${a}.${e}`;return atom.config.set(t,!atom.config.get(t))}set(e,t){const s=this.configNames.get(e);return atom.config.set(`${a}.${s}`,t)}get(e){const t=this.configNames.get(e);return atom.config.get(`${a}.${t}`)}}},function(e,t,s){"use strict";const{CompositeDisposable:n}=s(0),{FileSystem:r}=s(3),i=s(14);e.exports=class{constructor(e={}){const{name:t="",priority:s=0,ignoreVirtual:n=!0,matchesFiles:r=!0,matchesDirs:i=!1,noSetting:o=!1}=e;this.name=t||"",this.priority=+s||0,this.ignoreVirtual=!!n,this.matchesFiles=!!r,this.matchesDirs=!!i,this.noSetting=!!o,this.enabled=null,this.resources=null,this.resourceEvents=null}enable(){return!this.enabled&&(this.resources=new Map,this.enabled=!0,this.resourceEvents=new Map,i.isReady&&this.checkAll(),!0)}disable(){if(!this.enabled)return!1;this.resourceEvents.forEach(e=>e.dispose());for(const[e]of this.resources)e.icon&&this.deleteIcon(e);return this.resourceEvents.clear(),this.resourceEvents=null,this.resources.clear(),this.resources=null,this.enabled=!1,!0}check(e,t=!0){if(this.ignoreVirtual&&e.isVirtual)return!1;if(t&&this.resources.get(e))return!1;{this.registerResource(e);const t=this.matchIcon(e);return t?this.addIcon(e,t):this.deleteIcon(e)}}checkAll(e=!0){for(const[,t]of r.paths)t.isDirectory&&!this.matchesDirs||this.check(t,e)}addIcon(e,t){return this.resources.set(e,t),e.icon.add(t,this.priority),!0}deleteIcon(e){const t=this.resources.get(e);return t&&e.icon.remove(t,this.priority),this.resources.set(e,null),!1}matchIcon(){return null}registerResource(e){if(this.resourceEvents.has(e))return!1;const t=new n,s=e.onDidDestroy(()=>{this.resourceEvents.get(e).dispose(),this.resourceEvents.delete(e),this.resources.delete(e),t.dispose()});return t.add(s),this.resourceEvents.set(e,t),!0}}},function(e,t,s){"use strict";const{sep:n}=s(2),r=s(3),i=s(19),o="\\"===n;let a=!1,l=null;class u{init(e){a=!1,l=this.deserialise(e),this.clean()}serialise(){return l?{paths:l.paths.dump(),version:5}:null}deserialise(e){if(!e||5!==e.version)return this.createBlankCache();const t=new i({max:1e4});return t.load(e.paths),{paths:t,version:5}}clean(){l.paths.forEach((e,t)=>{this.hasData(t)&&this.isProjectRelated(t)||this.deletePath(t)})}createBlankCache(){return{paths:new i({max:1e4}),version:5}}isProjectRelated(e){const{rootDirectories:t}=atom.project;for(let s=0,i=t.length;s<i;++s){const i=t[s].path;if(e===i||0===e.indexOf(i+n))return!0;if(o){const t=r.normalisePath(i);if(e===t||0===e.indexOf(t+"/"))return!0}}return!1}[Symbol.iterator](){const e=l.paths,t=e.keys(),s=e.values(),{length:n}=t;let r=0;return{next(){if(r>=n)return{done:!0};{const e=[t[r],s[r]];return++r,{value:e}}}}}addPath(e){if(a)return;const t={icon:null,inode:null};return l.paths.set(e,t),t}getPathEntry(e){const t=l.paths.get(e);return t||(a?null:this.addPath(e))}getPathIcon(e){const{icon:t}=this.getPathEntry(e);return t?{priority:t[0],index:t[1],iconClass:t[2]}:null}hasData(e){const t=l.paths.get(e)||null;return!(!t||!t.icon&&!t.inode)}hasIcon(e){const t=l.paths.get(e);return!(!t||!t.icon)}setPathIcon(e,t){t&&(this.getPathEntry(e).icon=[t.priority,t.index,t.iconClass])}setPathInode(e,t){if(!t||a)return;let s=this.getPathEntry(e);s.inode&&s.inode!==t&&(this.deletePath(e),s=this.addPath(e)),s.inode=t}deletePath(e){l.paths.del(e)}deletePathIcon(e){delete this.getPathEntry(e).icon}lock(){a=!0}reset(){if(this.locked){const e="This shouldn't have happened. Please restart Atom.";atom.notifications.addError("Storage locked",{detail:e})}else{const{size:e}=this;l=this.createBlankCache(),atom.project.serialize();const t=`Cleared ${e} path${1===e?"":"s"} from icon cache.`;atom.notifications.addInfo(t,{dismissable:!0})}}get data(){return l}get locked(){return a}get size(){return l.paths.length}}e.exports=new u},function(e,t,s){"use strict";const n=s(2),r="win32"===process.platform,{REGEX_BACKSLASH:i,REGEX_REMOVE_BACKSLASH:o,REGEX_SPECIAL_CHARS:a,REGEX_SPECIAL_CHARS_GLOBAL:l}=s(8);t.isObject=e=>null!==e&&"object"==typeof e&&!Array.isArray(e),t.hasRegexChars=e=>a.test(e),t.isRegexChar=e=>1===e.length&&t.hasRegexChars(e),t.escapeRegex=e=>e.replace(l,"\\$1"),t.toPosixSlashes=e=>e.replace(i,"/"),t.removeBackslashes=e=>e.replace(o,e=>"\\"===e?"":e),t.supportsLookbehinds=()=>{const e=process.version.slice(1).split(".").map(Number);return 3===e.length&&e[0]>=9||8===e[0]&&e[1]>=10},t.isWindows=e=>e&&"boolean"==typeof e.windows?e.windows:!0===r||"\\"===n.sep,t.escapeLast=(e,s,n)=>{const r=e.lastIndexOf(s,n);return-1===r?e:"\\"===e[r-1]?t.escapeLast(e,s,r-1):`${e.slice(0,r)}\\${e.slice(r)}`},t.removePrefix=(e,t={})=>{let s=e;return s.startsWith("./")&&(s=s.slice(2),t.prefix="./"),s},t.wrapOutput=(e,t={},s={})=>{let n=`${s.contains?"":"^"}(?:${e})${s.contains?"":"$"}`;return!0===t.negated&&(n=`(?:^(?!${n}).*$)`),n}},function(e,t,s){"use strict";const n=s(2),r={DOT_LITERAL:"\\.",PLUS_LITERAL:"\\+",QMARK_LITERAL:"\\?",SLASH_LITERAL:"\\/",ONE_CHAR:"(?=.)",QMARK:"[^/]",END_ANCHOR:"(?:\\/|$)",DOTS_SLASH:"\\.{1,2}(?:\\/|$)",NO_DOT:"(?!\\.)",NO_DOTS:"(?!(?:^|\\/)\\.{1,2}(?:\\/|$))",NO_DOT_SLASH:"(?!\\.{0,1}(?:\\/|$))",NO_DOTS_SLASH:"(?!\\.{1,2}(?:\\/|$))",QMARK_NO_DOT:"[^.\\/]",STAR:"[^/]*?",START_ANCHOR:"(?:^|\\/)"},i={...r,SLASH_LITERAL:"[\\\\/]",QMARK:"[^\\\\/]",STAR:"[^\\\\/]*?",DOTS_SLASH:"\\.{1,2}(?:[\\\\/]|$)",NO_DOT:"(?!\\.)",NO_DOTS:"(?!(?:^|[\\\\/])\\.{1,2}(?:[\\\\/]|$))",NO_DOT_SLASH:"(?!\\.{0,1}(?:[\\\\/]|$))",NO_DOTS_SLASH:"(?!\\.{1,2}(?:[\\\\/]|$))",QMARK_NO_DOT:"[^.\\\\/]",START_ANCHOR:"(?:^|[\\\\/])",END_ANCHOR:"(?:[\\\\/]|$)"};e.exports={MAX_LENGTH:65536,POSIX_REGEX_SOURCE:{alnum:"a-zA-Z0-9",alpha:"a-zA-Z",ascii:"\\x00-\\x7F",blank:" \\t",cntrl:"\\x00-\\x1F\\x7F",digit:"0-9",graph:"\\x21-\\x7E",lower:"a-z",print:"\\x20-\\x7E ",punct:"\\-!\"#$%&'()\\*+,./:;<=>?@[\\]^_`{|}~",space:" \\t\\r\\n\\v\\f",upper:"A-Z",word:"A-Za-z0-9_",xdigit:"A-Fa-f0-9"},REGEX_BACKSLASH:/\\(?![*+?^${}(|)[\]])/g,REGEX_NON_SPECIAL_CHARS:/^[^@![\].,$*+?^{}()|\\/]+/,REGEX_SPECIAL_CHARS:/[-*+?.^${}(|)[\]]/,REGEX_SPECIAL_CHARS_BACKREF:/(\\?)((\W)(\3*))/g,REGEX_SPECIAL_CHARS_GLOBAL:/([-*+?.^${}(|)[\]])/g,REGEX_REMOVE_BACKSLASH:/(?:\[.*?[^\\]\]|\\(?=.))/g,REPLACEMENTS:{"***":"*","**/**":"**","**/**/**":"**"},CHAR_0:48,CHAR_9:57,CHAR_UPPERCASE_A:65,CHAR_LOWERCASE_A:97,CHAR_UPPERCASE_Z:90,CHAR_LOWERCASE_Z:122,CHAR_LEFT_PARENTHESES:40,CHAR_RIGHT_PARENTHESES:41,CHAR_ASTERISK:42,CHAR_AMPERSAND:38,CHAR_AT:64,CHAR_BACKWARD_SLASH:92,CHAR_CARRIAGE_RETURN:13,CHAR_CIRCUMFLEX_ACCENT:94,CHAR_COLON:58,CHAR_COMMA:44,CHAR_DOT:46,CHAR_DOUBLE_QUOTE:34,CHAR_EQUAL:61,CHAR_EXCLAMATION_MARK:33,CHAR_FORM_FEED:12,CHAR_FORWARD_SLASH:47,CHAR_GRAVE_ACCENT:96,CHAR_HASH:35,CHAR_HYPHEN_MINUS:45,CHAR_LEFT_ANGLE_BRACKET:60,CHAR_LEFT_CURLY_BRACE:123,CHAR_LEFT_SQUARE_BRACKET:91,CHAR_LINE_FEED:10,CHAR_NO_BREAK_SPACE:160,CHAR_PERCENT:37,CHAR_PLUS:43,CHAR_QUESTION_MARK:63,CHAR_RIGHT_ANGLE_BRACKET:62,CHAR_RIGHT_CURLY_BRACE:125,CHAR_RIGHT_SQUARE_BRACKET:93,CHAR_SEMICOLON:59,CHAR_SINGLE_QUOTE:39,CHAR_SPACE:32,CHAR_TAB:9,CHAR_UNDERSCORE:95,CHAR_VERTICAL_LINE:124,CHAR_ZERO_WIDTH_NOBREAK_SPACE:65279,SEP:n.sep,extglobChars:e=>({"!":{type:"negate",open:"(?:(?!(?:",close:`))${e.STAR})`},"?":{type:"qmark",open:"(?:",close:")?"},"+":{type:"plus",open:"(?:",close:")+"},"*":{type:"star",open:"(?:",close:")*"},"@":{type:"at",open:"(?:",close:")"}}),globChars:e=>!0===e?i:r}},function(e,t,s){"use strict";const{join:n}=s(2),{FileSystem:r}=s(3),{rgbToHSL:i}=s(13),{CompositeDisposable:o,Disposable:a,Emitter:l}=s(0);e.exports=new class{constructor(){this.reset(),this.lightTheme=!1}init(){this.projects=[],this.disposables.add(atom.project.onDidChangePaths(e=>this.setProjects(e)),atom.themes.onDidChangeActiveThemes(()=>{setImmediate(()=>this.checkMotif()),this.fixOffset()}),this.onSaveNewFile(e=>{const t=r.get(e.file);t&&t.addEditor(e.editor)}),this.onOpenFile(e=>{const t=e.getPath();let s=r.get(t);s&&"function"==typeof s.addEditor||(r.paths.delete(t),s=r.get(t)),s&&s.addEditor(e)}))}reset(){this.disposables&&this.disposables.dispose(),this.emitter&&this.emitter.dispose(),this.disposables=new o,this.emitter=new l}observe(){this.disposables.add(atom.workspace.observeTextEditors(e=>{this.emitOpenedEditor(e),e.getPath()?this.emitter.emit("open-file",e):(this.emitter.emit("open-blank",e),this.waitToSave(e).then(t=>{this.emitter.emit("save-new-file",{file:t,editor:e})}))}))}subscribe(e,t){return this.emitter?this.emitter.on(e,t):new a(()=>{})}emit(e,t=[]){this.emitter&&this.emitter.emit(e,...t)}onMotifChanged(e){return this.subscribe("motif-changed",e)}onOpenEditor(e){return this.subscribe("open-editor",e)}onOpenFile(e){return this.subscribe("open-file",e)}onOpenBlank(e){return this.subscribe("open-blank",e)}onOpenProject(e){return this.subscribe("open-project",e)}onProjectsAvailable(e){return this.subscribe("projects-available",e)}onProjectsChanged(e){return this.subscribe("projects-changed",e)}onProjectsEmptied(e){return this.subscribe("projects-emptied",e)}onSaveNewFile(e){return this.subscribe("save-new-file",e)}emitMotifChanged(...e){this.emit("motif-changed",e)}emitOpenedEditor(...e){this.emit("open-editor",e)}emitOpenedFile(...e){this.emit("open-file",e)}emitOpenedBlank(...e){this.emit("open-blank",e)}emitOpenedProject(...e){this.emit("open-project",e)}emitProjectsAvailable(...e){this.emit("projects-available",e)}emitProjectsChanged(...e){this.emit("projects-changed",e)}emitProjectsEmptied(...e){this.emit("projects-emptied",e)}observeFiles(e){const{editors:t}=atom.textEditors;for(let s=0,n=t.length;s<n;++s){const n=t[s];n.getFileName()&&e(n)}return this.onOpenFile(e)}getStyleSheets(){const{document:e}=global;if(!e||"object"!=typeof e.styleSheets)return[];const t=[],{length:s}=e.styleSheets;for(let n=0;n<s;++n)t.push(e.styleSheets[n]);return t}getStyleElement(e){const t=atom.packages.loadedPackages["file-icons"].path,s=this.getStyleSheets();if(!document||!s||!t)return null;const r=n(t,"styles",e);for(let e=0,t=s.length;e<t;++e){const t=s[e],{ownerNode:n}=t;if(n&&n.sourcePath===r)return t}return null}getThemeColour(){const e=this.getStyleElement("colours.less");if(!e)return null;for(const t of e.cssRules)if(".theme-colour-check"===t.selectorText){const e=t.cssText.match(/rgb\(.+\)/);return e?e[0].match(/[\d.]+(?=[,)])/g).map(Number):null}return null}checkMotif(){const e=this.getThemeColour();if(!e)return;const t=i(e)[2]>=.5;t!==this.lightTheme&&(this.lightTheme=t,this.emitMotifChanged(t))}fixOffset(){const e=this.getStyleSheets(),t=e.length;for(let s=0;s<t;++s){const t=e[s].cssRules,n=t.length;for(let e=0;e<n;++e){const s=".list-group .icon::before, .list-tree .icon::before",n=t[e];if(n.selectorText===s&&n.style.top){const e=n.style.top;return n.style.top="",this.restoreOffset&&(this.restoreOffset.dispose(),this.disposables.remove(this.restoreOffset)),this.restoreOffset=new a(()=>n.style.top=e),void this.disposables.add(this.restoreOffset)}}}}waitToSave(e){return new Promise(t=>{const s=new o(new a(()=>this.disposables.remove(s)),e.onDidDestroy(()=>s.dispose()),e.onDidChangePath(e=>{s.dispose(),t(e)}));this.disposables.add(s)})}setProjects(e=[]){const t=this.projects;t.join("\n")!==e.join("\n")&&(this.projects=e,e.length?this.emitProjectsAvailable():this.emitProjectsEmptied(),this.emitProjectsChanged({from:t,to:e}))}}},function(e,t,s){"use strict";const n=s(5);e.exports=class extends n{constructor(e={}){const{name:t="",priority:s=0,ignoreBinary:n=!0,minScanSize:r=6,maxScanSize:i=80,noSetting:o=!1}=e;super({name:t,priority:s,noSetting:o,matchesFiles:!0,matchesDirs:!1}),this.ignoreBinary=!!n,this.minScanSize=+r,this.maxScanSize=+i}check(e,t=!0){return this.needToScan(e)&&e.loadData(!1,this.maxScanSize),super.check(e,t)}registerResource(e){if(super.registerResource(e)){return this.resourceEvents.get(e).add(e.onDidChangeData(t=>{this.getFirstLine(t.from)!==this.getFirstLine(t.to)&&this.check(e,!1)})),!0}return!1}getFirstLine(e,t=1){return e?e.split(/\r?\n/).slice(0,t).join("\n"):""}needToScan(e){return null===e.data&&(this.ignoreBinary||!this.isBinary(e))&&!e.unreadable&&!e.isVirtual&&e.size>=this.minScanSize}isBinary(e){return e.binary||/\.(?:exe|jpe?g|png|gif|bmp|py[co]|woff2?|ttf|ico|webp|zip|[tr]ar|gz|bz2)$/i.test(e.name)}}},function(e,t,s){"use strict";const n=s(12);e.exports=(e,t={})=>{let s=(e,r={})=>{let i=t.escapeInvalid&&n.isInvalidBrace(r),o=!0===e.invalid&&!0===t.escapeInvalid,a="";if(e.value)return(i||o)&&n.isOpenOrClose(e)?"\\"+e.value:e.value;if(e.value)return e.value;if(e.nodes)for(let t of e.nodes)a+=s(t);return a};return s(e)}},function(e,t,s){"use strict";t.isInteger=e=>"number"==typeof e?Number.isInteger(e):"string"==typeof e&&""!==e.trim()&&Number.isInteger(Number(e)),t.find=(e,t)=>e.nodes.find(e=>e.type===t),t.exceedsLimit=(e,s,n=1,r)=>!1!==r&&(!(!t.isInteger(e)||!t.isInteger(s))&&(Number(s)-Number(e))/Number(n)>=r),t.escapeNode=(e,t=0,s)=>{let n=e.nodes[t];n&&(s&&n.type===s||"open"===n.type||"close"===n.type)&&!0!==n.escaped&&(n.value="\\"+n.value,n.escaped=!0)},t.encloseBrace=e=>"brace"===e.type&&(e.commas>>0+e.ranges>>0==0&&(e.invalid=!0,!0)),t.isInvalidBrace=e=>"brace"===e.type&&(!(!0!==e.invalid&&!e.dollar)||(e.commas>>0+e.ranges>>0==0||!0!==e.open||!0!==e.close)&&(e.invalid=!0,!0)),t.isOpenOrClose=e=>"open"===e.type||"close"===e.type||(!0===e.open||!0===e.close),t.reduce=e=>e.reduce((e,t)=>("text"===t.type&&e.push(t.value),"range"===t.type&&(t.type="text"),e),[]),t.flatten=(...e)=>{const t=[],s=e=>{for(let n=0;n<e.length;n++){let r=e[n];Array.isArray(r)?s(r,t):void 0!==r&&t.push(r)}return t};return s(e),t}},function(e,t,s){"use strict";e.exports={caseKludge:function(e,t=!1){let s=e.split("").map((e,s,n)=>{if(/[A-Z]/.test(e)){const r="["+e+e.toLowerCase()+"]",i=n[s-1];return t&&i&&/[a-z]/.test(i)?"[\\W_\\S]*"+r:r}return/[a-z]/.test(e)?"["+e.toUpperCase()+e+"]":t?"0"===e?"[0Oo]":/[\W_ \t]?/.test(e)?"[\\W_ \\t]?":e:e.replace(/([/\\^$*+?{}[\]().|])/g,"\\$1")}).join("");t&&(s=s.replace(/\[Oo\]/g,"[0Oo]"));return s.replace(/(\[\w{2,3}\])(\1+)/g,(e,t,s)=>t+"{"+(s.length/t.length+1)+"}")},collectStrings:function e(t,s=null){s=s||new WeakSet,t="string"==typeof t?[t]:s.add(t)&&Array.from(t);const n=[];for(const r of t)if(r)switch(typeof r){case"string":n.push(...r.split(/\s+/));break;case"object":if(s.has(r))continue;s.add(r),n.push(...e(r,s))}return n},escapeRegExp:function(e){return e.replace(/([/\\^$*+?{}[\]().|])/g,"\\$1")},findBasePath:function(e){const t=-1!==e[0].indexOf("/");let s=[];if(1===e.length)s=e[0].replace(/[\\/]+$/,"").split(/[\\/]/g),s.pop();else{const t=e.map(e=>e.split(/[\\/]/g)),n=Math.max(...t.map(e=>e.length)),r=t.length;let i;e:for(i=0;i<n;++i){const e=t[0][i];for(let s=1;s<r;++s)if(e!==t[s][i])break e;s.push(e)}}return s.join(t?"/":"\\")},forceNonCapturing:function(e){const t=e.source.split(/\((?!\?[=<!])/).map((e,t,s)=>t?/^(?:[^\\]|\\.)*\\$/.test(s[t-1])?e.replace(/^/,"("):e.replace(/^(?:\?:)?/,"(?:"):e).join("");return new RegExp(t,e.flags)},fuzzyRegExp:function(e,t=RegExp){if("[object String]"!==Object.prototype.toString.call(e))return e;const s=e.replace(/([A-Z])([A-Z]+)/g,(e,t,s)=>t+s.toLowerCase()).split(/\B(?=[A-Z])|[-\s]/g).map(e=>e.replace(/([/\\^$*+?{}[\]().|])/g,"\\$1?")).join("[\\W_ \\t]?").replace(/[0Oo]/g,"[0o]");return String===t?s:new RegExp(s,"i")},isRegExp:function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},isString:function(e){return"[object String]"===Object.prototype.toString.call(e)},rgbToHSL:function(e){if(!e)return;const t=e[0]/255,s=e[1]/255,n=e[2]/255,r=Math.min(t,s,n),i=Math.max(t,s,n),o=(i+r)/2,a=i-r,l=o<.5?a/(i+r):a/(2-i-r);let u;switch(i){case t:u=(s-n)/a;break;case s:u=2+(n-t)/a;break;default:u=4+(t-s)/a}u/=6,u<0&&(u+=1);return[u||0,l||0,o||0]},wait:function(e=100){return new Promise(t=>{setTimeout(()=>t(),e)})}}},function(e,t,s){"use strict";const{CompositeDisposable:n}=s(0),{EntityType:r,FileSystem:i}=s(3),o=s(15),a=s(43),l=s(44),u=s(6);class c{init(){this.disposables=new n,this.disposables.add(i.observe(this.handleResource.bind(this)),atom.project.onDidChangeFiles(e=>{for(const{action:t,path:s}of e)if("deleted"===t&&i.paths.has(s)){const e=i.get(s);e&&e.destroy(),u.deletePath(s)}})),o.init(),this.isReady=!0}reset(){this.disposables.dispose(),this.disposables.clear(),this.disposables=null,o.reset(),this.isReady=!1}handleResource(e){if(e.icon)return;const t=new a(e);if(e.icon=t,this.disposables.add(e.onDidDestroy(()=>{t.destroy(),e.icon=null})),e.stats&&e.stats.ino){const t=e.stats.ino;u.setPathInode(e.path,t)}e.type&r.SYMLINK&&this.disposables.add(e.onDidChangeRealPath(({to:e})=>{const s=i.get(e);t.master=s.icon}))}addIconToElement(t,s,n={}){const{isDirectory:i,isSymlink:o,isTabIcon:a}=n;let u=i?r.DIRECTORY:r.FILE;o&&(u|=r.SYMLINK);const c=l.forElement(t,s,u,a);return null!==e.exports.disposables&&e.exports.disposables.add(c),c}suppressFOUC(){return{iconClassForPath(e){const t=i.get(e);return t&&t.icon&&t.icon.getClasses()||null}}}}c.prototype.isReady=!1,e.exports=new c},function(e,t,s){"use strict";const{CompositeDisposable:n}=s(0),r=s(4);e.exports=new class{init(){this.fileStrategies=[],this.directoryStrategies=[],this.disposables=new n;const e=[s(22),s(25),s(26),s(27),s(40),s(41),s(42)];for(let t=0,s=e.length;t<s;++t)this.addStrategy(e[t]);this.fileStrategies=this.fileStrategies.filter(e=>e).reverse(),this.directoryStrategies=this.directoryStrategies.filter(e=>e).reverse()}reset(){new Set([...this.fileStrategies,...this.directoryStrategies]).forEach(e=>e.disable()),this.disposables.dispose(),this.disposables=null}addStrategy(e){const{priority:t}=e;e.matchesFiles&&(this.fileStrategies[t]=e),e.matchesDirs&&(this.directoryStrategies[t]=e),e.noSetting?"signature"===e.name?this.disposables.add(r.observe("hashbangs",t=>{t||r.get("modelines")?e.enable():e.disable()}),r.observe("modelines",t=>{t||r.get("hashbangs")?e.enable():e.disable()})):e.enable():this.disposables.add(r.observe(e.name,t=>{t?e.enable():e.disable()}))}query(e){if(null==e)return;const t=e.isDirectory?this.directoryStrategies:this.fileStrategies;if(t)for(let s=0,n=t.length;s<n;++s){const n=t[s];if(n.enabled&&n.check(e))break}}}},function(e,t){e.exports=require("util")},function(e,t,s){"use strict";
/*!
 * fill-range <https://github.com/jonschlinkert/fill-range>
 *
 * Copyright (c) 2014-present, Jon Schlinkert.
 * Licensed under the MIT License.
 */const n=s(16),r=s(31),i=e=>null!==e&&"object"==typeof e&&!Array.isArray(e),o=e=>"number"==typeof e||"string"==typeof e&&""!==e,a=e=>Number.isInteger(+e),l=e=>{let t=`${e}`,s=-1;if("-"===t[0]&&(t=t.slice(1)),"0"===t)return!1;for(;"0"===t[++s];);return s>0},u=(e,t,s)=>{if(t>0){let s="-"===e[0]?"-":"";s&&(e=e.slice(1)),e=s+e.padStart(s?t-1:t,"0")}return!1===s?String(e):e},c=(e,t)=>{let s="-"===e[0]?"-":"";for(s&&(e=e.slice(1),t--);e.length<t;)e="0"+e;return s?"-"+e:e},h=(e,t,s,n)=>{if(s)return r(e,t,{wrap:!1,...n});let i=String.fromCharCode(e);return e===t?i:`[${i}-${String.fromCharCode(t)}]`},p=(e,t,s)=>{if(Array.isArray(e)){let t=!0===s.wrap,n=s.capture?"":"?:";return t?`(${n}${e.join("|")})`:e.join("|")}return r(e,t,s)},f=(...e)=>new RangeError("Invalid range arguments: "+n.inspect(...e)),d=(e,t,s)=>{if(!0===s.strictRanges)throw f([e,t]);return[]},g=(e,t,s=1,n={})=>{let r=Number(e),i=Number(t);if(!Number.isInteger(r)||!Number.isInteger(i)){if(!0===n.strictRanges)throw f([e,t]);return[]}0===r&&(r=0),0===i&&(i=0);let o=r>i,a=String(e),d=String(t),g=String(s);s=Math.max(Math.abs(s),1);let m=l(a)||l(d)||l(g),y=m?Math.max(a.length,d.length,g.length):0,b=!1===m&&!1===((e,t,s)=>"string"==typeof e||"string"==typeof t||!0===s.stringify)(e,t,n),R=n.transform||(e=>t=>!0===e?Number(t):String(t))(b);if(n.toRegex&&1===s)return h(c(e,y),c(t,y),!0,n);let A={negatives:[],positives:[]},v=[],C=0;for(;o?r>=i:r<=i;)!0===n.toRegex&&s>1?A[(E=r)<0?"negatives":"positives"].push(Math.abs(E)):v.push(u(R(r,C),y,b)),r=o?r-s:r+s,C++;var E;return!0===n.toRegex?s>1?((e,t)=>{e.negatives.sort((e,t)=>e<t?-1:e>t?1:0),e.positives.sort((e,t)=>e<t?-1:e>t?1:0);let s,n=t.capture?"":"?:",r="",i="";return e.positives.length&&(r=e.positives.join("|")),e.negatives.length&&(i=`-(${n}${e.negatives.join("|")})`),s=r&&i?`${r}|${i}`:r||i,t.wrap?`(${n}${s})`:s})(A,n):p(v,null,{wrap:!1,...n}):v},m=(e,t,s,n={})=>{if(null==t&&o(e))return[e];if(!o(e)||!o(t))return d(e,t,n);if("function"==typeof s)return m(e,t,1,{transform:s});if(i(s))return m(e,t,0,s);let r={...n};return!0===r.capture&&(r.wrap=!0),s=s||r.step||1,a(s)?a(e)&&a(t)?g(e,t,s,r):((e,t,s=1,n={})=>{if(!a(e)&&e.length>1||!a(t)&&t.length>1)return d(e,t,n);let r=n.transform||(e=>String.fromCharCode(e)),i=`${e}`.charCodeAt(0),o=`${t}`.charCodeAt(0),l=i>o,u=Math.min(i,o),c=Math.max(i,o);if(n.toRegex&&1===s)return h(u,c,!1,n);let f=[],g=0;for(;l?i>=o:i<=o;)f.push(r(i,g)),i=l?i-s:i+s,g++;return!0===n.toRegex?p(f,null,{wrap:!1,options:n}):f})(e,t,Math.max(Math.abs(s),1),r):null==s||i(s)?m(e,t,1,s):((e,t)=>{if(!0===t.strictRanges)throw new TypeError(`Expected step "${e}" to be a number`);return[]})(s,r)};e.exports=m},function(e,t,s){"use strict";const n={get storage(){return s(6)},get options(){return s(4)},get ui(){return s(9)},get service(){return s(14)},activate(e){global._FileIcons=this,this.storage.init(e),this.options.init(),this.ui.init(),this.ui.observe(),this.service.init()},deactivate(){this.storage.lock(),this.service.reset(),this.ui.reset(),this.options.reset(),delete global._FileIcons},serialize(){return this.storage.serialise()},provideService(){return this.service.addIconToElement},suppressFOUC(){return this.service.suppressFOUC()}};e.exports=n},function(e,t,s){"use strict";const n=s(20),r=Symbol("max"),i=Symbol("length"),o=Symbol("lengthCalculator"),a=Symbol("allowStale"),l=Symbol("maxAge"),u=Symbol("dispose"),c=Symbol("noDisposeOnSet"),h=Symbol("lruList"),p=Symbol("cache"),f=Symbol("updateAgeOnGet"),d=()=>1;const g=(e,t,s)=>{const n=e[p].get(t);if(n){const t=n.value;if(m(e,t)){if(b(e,n),!e[a])return}else s&&(e[f]&&(n.value.now=Date.now()),e[h].unshiftNode(n));return t.value}},m=(e,t)=>{if(!t||!t.maxAge&&!e[l])return!1;const s=Date.now()-t.now;return t.maxAge?s>t.maxAge:e[l]&&s>e[l]},y=e=>{if(e[i]>e[r])for(let t=e[h].tail;e[i]>e[r]&&null!==t;){const s=t.prev;b(e,t),t=s}},b=(e,t)=>{if(t){const s=t.value;e[u]&&e[u](s.key,s.value),e[i]-=s.length,e[p].delete(s.key),e[h].removeNode(t)}};class R{constructor(e,t,s,n,r){this.key=e,this.value=t,this.length=s,this.now=n,this.maxAge=r||0}}const A=(e,t,s,n)=>{let r=s.value;m(e,r)&&(b(e,s),e[a]||(r=void 0)),r&&t.call(n,r.value,r.key,e)};e.exports=class{constructor(e){if("number"==typeof e&&(e={max:e}),e||(e={}),e.max&&("number"!=typeof e.max||e.max<0))throw new TypeError("max must be a non-negative number");this[r]=e.max||1/0;const t=e.length||d;if(this[o]="function"!=typeof t?d:t,this[a]=e.stale||!1,e.maxAge&&"number"!=typeof e.maxAge)throw new TypeError("maxAge must be a number");this[l]=e.maxAge||0,this[u]=e.dispose,this[c]=e.noDisposeOnSet||!1,this[f]=e.updateAgeOnGet||!1,this.reset()}set max(e){if("number"!=typeof e||e<0)throw new TypeError("max must be a non-negative number");this[r]=e||1/0,y(this)}get max(){return this[r]}set allowStale(e){this[a]=!!e}get allowStale(){return this[a]}set maxAge(e){if("number"!=typeof e)throw new TypeError("maxAge must be a non-negative number");this[l]=e,y(this)}get maxAge(){return this[l]}set lengthCalculator(e){"function"!=typeof e&&(e=d),e!==this[o]&&(this[o]=e,this[i]=0,this[h].forEach(e=>{e.length=this[o](e.value,e.key),this[i]+=e.length})),y(this)}get lengthCalculator(){return this[o]}get length(){return this[i]}get itemCount(){return this[h].length}rforEach(e,t){t=t||this;for(let s=this[h].tail;null!==s;){const n=s.prev;A(this,e,s,t),s=n}}forEach(e,t){t=t||this;for(let s=this[h].head;null!==s;){const n=s.next;A(this,e,s,t),s=n}}keys(){return this[h].toArray().map(e=>e.key)}values(){return this[h].toArray().map(e=>e.value)}reset(){this[u]&&this[h]&&this[h].length&&this[h].forEach(e=>this[u](e.key,e.value)),this[p]=new Map,this[h]=new n,this[i]=0}dump(){return this[h].map(e=>!m(this,e)&&{k:e.key,v:e.value,e:e.now+(e.maxAge||0)}).toArray().filter(e=>e)}dumpLru(){return this[h]}set(e,t,s){if((s=s||this[l])&&"number"!=typeof s)throw new TypeError("maxAge must be a number");const n=s?Date.now():0,a=this[o](t,e);if(this[p].has(e)){if(a>this[r])return b(this,this[p].get(e)),!1;const o=this[p].get(e).value;return this[u]&&(this[c]||this[u](e,o.value)),o.now=n,o.maxAge=s,o.value=t,this[i]+=a-o.length,o.length=a,this.get(e),y(this),!0}const f=new R(e,t,a,n,s);return f.length>this[r]?(this[u]&&this[u](e,t),!1):(this[i]+=f.length,this[h].unshift(f),this[p].set(e,this[h].head),y(this),!0)}has(e){if(!this[p].has(e))return!1;const t=this[p].get(e).value;return!m(this,t)}get(e){return g(this,e,!0)}peek(e){return g(this,e,!1)}pop(){const e=this[h].tail;return e?(b(this,e),e.value):null}del(e){b(this,this[p].get(e))}load(e){this.reset();const t=Date.now();for(let s=e.length-1;s>=0;s--){const n=e[s],r=n.e||0;if(0===r)this.set(n.k,n.v);else{const e=r-t;e>0&&this.set(n.k,n.v,e)}}}prune(){this[p].forEach((e,t)=>g(this,t,!1))}}},function(e,t,s){"use strict";function n(e){var t=this;if(t instanceof n||(t=new n),t.tail=null,t.head=null,t.length=0,e&&"function"==typeof e.forEach)e.forEach((function(e){t.push(e)}));else if(arguments.length>0)for(var s=0,r=arguments.length;s<r;s++)t.push(arguments[s]);return t}function r(e,t,s){var n=t===e.head?new a(s,null,t,e):new a(s,t,t.next,e);return null===n.next&&(e.tail=n),null===n.prev&&(e.head=n),e.length++,n}function i(e,t){e.tail=new a(t,e.tail,null,e),e.head||(e.head=e.tail),e.length++}function o(e,t){e.head=new a(t,null,e.head,e),e.tail||(e.tail=e.head),e.length++}function a(e,t,s,n){if(!(this instanceof a))return new a(e,t,s,n);this.list=n,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,s?(s.prev=this,this.next=s):this.next=null}e.exports=n,n.Node=a,n.create=n,n.prototype.removeNode=function(e){if(e.list!==this)throw new Error("removing node which does not belong to this list");var t=e.next,s=e.prev;return t&&(t.prev=s),s&&(s.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=s),e.list.length--,e.next=null,e.prev=null,e.list=null,t},n.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}},n.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}},n.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++)i(this,arguments[e]);return this.length},n.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++)o(this,arguments[e]);return this.length},n.prototype.pop=function(){if(this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}},n.prototype.shift=function(){if(this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}},n.prototype.forEach=function(e,t){t=t||this;for(var s=this.head,n=0;null!==s;n++)e.call(t,s.value,n,this),s=s.next},n.prototype.forEachReverse=function(e,t){t=t||this;for(var s=this.tail,n=this.length-1;null!==s;n--)e.call(t,s.value,n,this),s=s.prev},n.prototype.get=function(e){for(var t=0,s=this.head;null!==s&&t<e;t++)s=s.next;if(t===e&&null!==s)return s.value},n.prototype.getReverse=function(e){for(var t=0,s=this.tail;null!==s&&t<e;t++)s=s.prev;if(t===e&&null!==s)return s.value},n.prototype.map=function(e,t){t=t||this;for(var s=new n,r=this.head;null!==r;)s.push(e.call(t,r.value,this)),r=r.next;return s},n.prototype.mapReverse=function(e,t){t=t||this;for(var s=new n,r=this.tail;null!==r;)s.push(e.call(t,r.value,this)),r=r.prev;return s},n.prototype.reduce=function(e,t){var s,n=this.head;if(arguments.length>1)s=t;else{if(!this.head)throw new TypeError("Reduce of empty list with no initial value");n=this.head.next,s=this.head.value}for(var r=0;null!==n;r++)s=e(s,n.value,r),n=n.next;return s},n.prototype.reduceReverse=function(e,t){var s,n=this.tail;if(arguments.length>1)s=t;else{if(!this.tail)throw new TypeError("Reduce of empty list with no initial value");n=this.tail.prev,s=this.tail.value}for(var r=this.length-1;null!==n;r--)s=e(s,n.value,r),n=n.prev;return s},n.prototype.toArray=function(){for(var e=new Array(this.length),t=0,s=this.head;null!==s;t++)e[t]=s.value,s=s.next;return e},n.prototype.toArrayReverse=function(){for(var e=new Array(this.length),t=0,s=this.tail;null!==s;t++)e[t]=s.value,s=s.prev;return e},n.prototype.slice=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var s=new n;if(t<e||t<0)return s;e<0&&(e=0),t>this.length&&(t=this.length);for(var r=0,i=this.head;null!==i&&r<e;r++)i=i.next;for(;null!==i&&r<t;r++,i=i.next)s.push(i.value);return s},n.prototype.sliceReverse=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var s=new n;if(t<e||t<0)return s;e<0&&(e=0),t>this.length&&(t=this.length);for(var r=this.length,i=this.tail;null!==i&&r>t;r--)i=i.prev;for(;null!==i&&r>e;r--,i=i.prev)s.push(i.value);return s},n.prototype.splice=function(e,t){e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var s=0,n=this.head;null!==n&&s<e;s++)n=n.next;var i=[];for(s=0;n&&s<t;s++)i.push(n.value),n=this.removeNode(n);null===n&&(n=this.tail),n!==this.head&&n!==this.tail&&(n=n.prev);for(s=2;s<arguments.length;s++)n=r(this,n,arguments[s]);return i},n.prototype.reverse=function(){for(var e=this.head,t=this.tail,s=e;null!==s;s=s.prev){var n=s.prev;s.prev=s.next,s.next=n}return this.head=t,this.tail=e,this};try{s(21)(n)}catch(e){}},function(e,t,s){"use strict";e.exports=function(e){e.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}},function(e,t,s){"use strict";const n=s(10),r=s(1),i=s(4);e.exports=new class extends n{constructor(){super({name:"signature",priority:0,minScanSize:1,ignoreBinary:!1,noSetting:!0})}needToScan(e){return!(!i.hashbangs&&!i.modelines)&&super.needToScan(e)}matchIcon(e){const{data:t}=e;return t?r.matchSignature(t):null}}},function(e,t,s){"use strict";e.exports=class{constructor(e,t,s,n,r=1,i=null,o=null,a=null,l=null,u=null){this.index=e,this.icon=t,this.colour=s,this.match=n,this.priority=r,this.matchPath=i||!1,this.interpreter=o||null,this.scope=a||null,this.lang=l||null,this.signature=u||null}getClass(e=null,t=!1){return null===e||null===this.colour[0]?t?[this.icon]:this.icon:t?[this.icon,this.colour[e]]:this.icon+" "+this.colour[e]}}},function(e,t){e.exports=require("./.icondb.js")},function(e,t,s){"use strict";const n=s(1),r=s(10),{executableIcon:i}=n;e.exports=new class extends r{constructor(){super({name:"hashbangs",priority:5})}matchIcon(e){const t=null!==e.data?this.getFirstLine(e.data).match(/^#!(?:(?:\s*\S*\/|\s*(?=perl6?))(\S+))(?:(?:\s+\S+=\S*)*\s+(\S+))?/):null;if(!t)return null;const s="env"===t[1]?(t[2]||"").split("/").pop():t[1];if("node"===s&&/\.tsx?$/i.test(e.name))return null;let r=n.matchInterpreter(s);if(!r){const{executable:t}=e;if(null===t){const t=e.onDidLoadStats(()=>{t.dispose(),e.executable&&e.icon.add(i,this.priority)})}else t&&(r=i)}return r||null}}},function(e,t,s){"use strict";const n=s(10),r=s(1);e.exports=new class extends n{constructor(){super({name:"modelines",priority:6})}matchIcon(e){const t=this.getFirstLine(e.data,2)||null;if(null===t)return null;let s=t.match(/-\*-(?:(?:(?!mode\s*:)[^:;]+:[^:;]+;)*\s*mode\s*:)?\s*([\w+-]+)\s*(?:;[^:;]+:[^:;]+?)*;?\s*-\*-/i);return s&&"fundamental"!==s[1]?r.matchLanguage(s[1])||null:(s=t.match(/(?:(?:\s|^)vi(?:m[<=>]?\d+|m)?|[\t ]ex)(?=:(?=\s*set?\s[^\n:]+:)|:(?!\s*set?\s))(?:(?:\s|\s*:\s*)\w*(?:\s*=(?:[^\n\\\s]|\\.)*)?)*[\s:](?:filetype|ft|syntax)\s*=(\w+)(?=\s|:|$)/i),s&&r.matchLanguage(s[1])||null)}}},function(e,t,s){"use strict";const n=s(2),{Disposable:r}=s(0),i=s(1),o=s(5);e.exports=new class extends o{constructor(){super({name:"linguist",priority:4,matchesFiles:!0,matchesDirs:!1,ignoreVirtual:!1}),this.hasRules=!1,this.rules=null,this.sources=null,this.languageIcons=null}enable(){return this.enabled||(this.hasRules=!1,this.rules=new Map,this.sources=new Map,this.languageIcons=new Map),super.enable()}disable(){return!!this.enabled&&(super.disable(),this.rules.clear(),this.sources.clear(),this.languageIcons.clear(),this.hasRules=!1,this.rules=null,this.sources=null,this.languageIcons=null,!0)}matchIcon(e){if(!this.hasRules)return null;for(const[t,s]of this.rules)if(t.test(e.path))return s;return null}registerResource(e){const t=super.registerResource(e);if(!t||e.unreadable||!/^\.gitattributes$/.test(e.name))return t;{this.sources.set(e,new Map);const t=this.resourceEvents.get(e);t.add(new r(()=>e.unwatchSystem()),e.onDidMove(()=>this.updateSource(e)),e.onDidChangeData(()=>this.updateSource(e)),e.onDidChangeOnDisk(()=>{try{e.loadData(!0)}catch(e){t.dispose()}})),e.watchSystem(),e.isDataComplete||e.isOpenInEditor?this.updateSource(e):e.loadData(!0)}}updateSource(e){const t=this.sources.get(e),s=new Map(this.parseSource(e.data,e.path)),n=new Set;for(const[e]of t)s.has(e)||(n.add(e),t.delete(e),this.rules.delete(e));for(const[e,r]of s)t.get(e)!==r&&(this.rules.set(e,r),t.set(e,r),n.add(e));this.hasRules=!!this.rules.size;for(const e of n)this.updatePath(e)}updatePath(e){for(const[t]of this.resources)if(e.test(t.path)){this.deleteIcon(t);const s=this.rules.get(e)||null;null!==s&&this.addIcon(t,s)}}parseSource(e,t){return e?e.replace(/^[\t ]*#.*$|^[ \t]+|[ \t]+$/gm,"").split(/(?:\r?\n)+/g).filter(e=>/\S+[ \t]+linguist-language=\w+/.test(e)).map(e=>{let[r,o]=e.split(/\s+linguist-language=/);this.languageIcons.has(o)||this.languageIcons.set(o,i.matchLanguage(o));const a=this.languageIcons.get(o);if(!a)return null;const l=s(28);return r=n.dirname(t)+"/"+(/^\//.test(r)?"":"**")+"/"+r,r=n.resolve(r),"win32"===process.platform&&(r=r.replace(/\\/g,"/")),r=l.makeRe(r,{unixify:!1,nonegate:!0,dot:!0}),r?[r,a]:null}).filter(e=>e):[]}}},function(e,t,s){"use strict";const n=s(16),r=s(29),i=s(36),o=s(7),a=e=>"string"==typeof e&&(""===e||"./"===e),l=(e,t,s)=>{t=[].concat(t),e=[].concat(e);let n=new Set,r=new Set,o=new Set,a=0,l=e=>{o.add(e.output),s&&s.onResult&&s.onResult(e)};for(let o=0;o<t.length;o++){let u=i(String(t[o]),{...s,onResult:l},!0),c=u.state.negated||u.state.negatedExtglob;c&&a++;for(let t of e){let e=u(t,!0);(c?!e.isMatch:e.isMatch)&&(c?n.add(e.output):(n.delete(e.output),r.add(e.output)))}}let u=(a===t.length?[...o]:[...r]).filter(e=>!n.has(e));if(s&&0===u.length){if(!0===s.failglob)throw new Error(`No matches found for "${t.join(", ")}"`);if(!0===s.nonull||!0===s.nullglob)return s.unescape?t.map(e=>e.replace(/\\/g,"")):t}return u};l.match=l,l.matcher=(e,t)=>i(e,t),l.any=l.isMatch=(e,t,s)=>i(t,s)(e),l.not=(e,t,s={})=>{t=[].concat(t).map(String);let n=new Set,r=[],i=l(e,t,{...s,onResult:e=>{s.onResult&&s.onResult(e),r.push(e.output)}});for(let e of r)i.includes(e)||n.add(e);return[...n]},l.contains=(e,t,s)=>{if("string"!=typeof e)throw new TypeError(`Expected a string: "${n.inspect(e)}"`);if(Array.isArray(t))return t.some(t=>l.contains(e,t,s));if("string"==typeof t){if(a(e)||a(t))return!1;if(e.includes(t)||e.startsWith("./")&&e.slice(2).includes(t))return!0}return l.isMatch(e,t,{...s,contains:!0})},l.matchKeys=(e,t,s)=>{if(!o.isObject(e))throw new TypeError("Expected the first argument to be an object");let n=l(Object.keys(e),t,s),r={};for(let t of n)r[t]=e[t];return r},l.some=(e,t,s)=>{let n=[].concat(e);for(let e of[].concat(t)){let t=i(String(e),s);if(n.some(e=>t(e)))return!0}return!1},l.every=(e,t,s)=>{let n=[].concat(e);for(let e of[].concat(t)){let t=i(String(e),s);if(!n.every(e=>t(e)))return!1}return!0},l.all=(e,t,s)=>{if("string"!=typeof e)throw new TypeError(`Expected a string: "${n.inspect(e)}"`);return[].concat(t).every(t=>i(t,s)(e))},l.capture=(e,t,s)=>{let n=o.isWindows(s),r=i.makeRe(String(e),{...s,capture:!0}).exec(n?o.toPosixSlashes(t):t);if(r)return r.slice(1).map(e=>void 0===e?"":e)},l.makeRe=(...e)=>i.makeRe(...e),l.scan=(...e)=>i.scan(...e),l.parse=(e,t)=>{let s=[];for(let n of[].concat(e||[]))for(let e of r(String(n),t))s.push(i.parse(e,t));return s},l.braces=(e,t)=>{if("string"!=typeof e)throw new TypeError("Expected a string");return t&&!0===t.nobrace||!/\{.*\}/.test(e)?[e]:r(e,t)},l.braceExpand=(e,t)=>{if("string"!=typeof e)throw new TypeError("Expected a string");return l.braces(e,{...t,expand:!0})},e.exports=l},function(e,t,s){"use strict";const n=s(11),r=s(30),i=s(33),o=s(34),a=(e,t={})=>{let s=[];if(Array.isArray(e))for(let n of e){let e=a.create(n,t);Array.isArray(e)?s.push(...e):s.push(e)}else s=[].concat(a.create(e,t));return t&&!0===t.expand&&!0===t.nodupes&&(s=[...new Set(s)]),s};a.parse=(e,t={})=>o(e,t),a.stringify=(e,t={})=>n("string"==typeof e?a.parse(e,t):e,t),a.compile=(e,t={})=>("string"==typeof e&&(e=a.parse(e,t)),r(e,t)),a.expand=(e,t={})=>{"string"==typeof e&&(e=a.parse(e,t));let s=i(e,t);return!0===t.noempty&&(s=s.filter(Boolean)),!0===t.nodupes&&(s=[...new Set(s)]),s},a.create=(e,t={})=>""===e||e.length<3?[e]:!0!==t.expand?a.compile(e,t):a.expand(e,t),e.exports=a},function(e,t,s){"use strict";const n=s(17),r=s(12);e.exports=(e,t={})=>{let s=(e,i={})=>{let o=r.isInvalidBrace(i),a=!0===e.invalid&&!0===t.escapeInvalid,l=!0===o||!0===a,u=!0===t.escapeInvalid?"\\":"",c="";if(!0===e.isOpen)return u+e.value;if(!0===e.isClose)return u+e.value;if("open"===e.type)return l?u+e.value:"(";if("close"===e.type)return l?u+e.value:")";if("comma"===e.type)return"comma"===e.prev.type?"":l?e.value:"|";if(e.value)return e.value;if(e.nodes&&e.ranges>0){let s=r.reduce(e.nodes),i=n(...s,{...t,wrap:!1,toRegex:!0});if(0!==i.length)return s.length>1&&i.length>1?`(${i})`:i}if(e.nodes)for(let t of e.nodes)c+=s(t,e);return c};return s(e)}},function(e,t,s){"use strict";
/*!
 * to-regex-range <https://github.com/micromatch/to-regex-range>
 *
 * Copyright (c) 2015-present, Jon Schlinkert.
 * Released under the MIT License.
 */const n=s(32),r=(e,t,s)=>{if(!1===n(e))throw new TypeError("toRegexRange: expected the first argument to be a number");if(void 0===t||e===t)return String(e);if(!1===n(t))throw new TypeError("toRegexRange: expected the second argument to be a number.");let i={relaxZeros:!0,...s};"boolean"==typeof i.strictZeros&&(i.relaxZeros=!1===i.strictZeros);let l=e+":"+t+"="+String(i.relaxZeros)+String(i.shorthand)+String(i.capture)+String(i.wrap);if(r.cache.hasOwnProperty(l))return r.cache[l].result;let u=Math.min(e,t),c=Math.max(e,t);if(1===Math.abs(u-c)){let s=e+"|"+t;return i.capture?`(${s})`:!1===i.wrap?s:`(?:${s})`}let h=d(e)||d(t),p={min:e,max:t,a:u,b:c},f=[],g=[];if(h&&(p.isPadded=h,p.maxLen=String(p.max).length),u<0){g=o(c<0?Math.abs(c):1,Math.abs(u),p,i),u=p.a=0}return c>=0&&(f=o(u,c,p,i)),p.negatives=g,p.positives=f,p.result=function(e,t,s){let n=a(e,t,"-",!1,s)||[],r=a(t,e,"",!1,s)||[],i=a(e,t,"-?",!0,s)||[];return n.concat(i).concat(r).join("|")}(g,f,i),!0===i.capture?p.result=`(${p.result})`:!1!==i.wrap&&f.length+g.length>1&&(p.result=`(?:${p.result})`),r.cache[l]=p,p.result};function i(e,t,s){if(e===t)return{pattern:e,count:[],digits:0};let n=function(e,t){let s=[];for(let n=0;n<e.length;n++)s.push([e[n],t[n]]);return s}(e,t),r=n.length,i="",o=0;for(let e=0;e<r;e++){let[t,r]=n[e];t===r?i+=t:"0"!==t||"9"!==r?i+=f(t,r,s):o++}return o&&(i+=!0===s.shorthand?"\\d":"[0-9]"),{pattern:i,count:[o],digits:r}}function o(e,t,s,n){let r,o=function(e,t){let s=1,n=1,r=c(e,s),i=new Set([t]);for(;e<=r&&r<=t;)i.add(r),s+=1,r=c(e,s);for(r=h(t+1,n)-1;e<r&&r<=t;)i.add(r),n+=1,r=h(t+1,n)-1;return i=[...i],i.sort(l),i}(e,t),a=[],u=e;for(let e=0;e<o.length;e++){let t=o[e],l=i(String(u),String(t),n),c="";s.isPadded||!r||r.pattern!==l.pattern?(s.isPadded&&(c=g(t,s,n)),l.string=c+l.pattern+p(l.count),a.push(l),u=t+1,r=l):(r.count.length>1&&r.count.pop(),r.count.push(l.count[0]),r.string=r.pattern+p(r.count),u=t+1)}return a}function a(e,t,s,n,r){let i=[];for(let r of e){let{string:e}=r;n||u(t,"string",e)||i.push(s+e),n&&u(t,"string",e)&&i.push(s+e)}return i}function l(e,t){return e>t?1:t>e?-1:0}function u(e,t,s){return e.some(e=>e[t]===s)}function c(e,t){return Number(String(e).slice(0,-t)+"9".repeat(t))}function h(e,t){return e-e%Math.pow(10,t)}function p(e){let[t=0,s=""]=e;return s||t>1?`{${t+(s?","+s:"")}}`:""}function f(e,t,s){return`[${e}${t-e==1?"":"-"}${t}]`}function d(e){return/^-?(0+)\d/.test(e)}function g(e,t,s){if(!t.isPadded)return e;let n=Math.abs(t.maxLen-String(e).length),r=!1!==s.relaxZeros;switch(n){case 0:return"";case 1:return r?"0?":"0";case 2:return r?"0{0,2}":"00";default:return r?`0{0,${n}}`:`0{${n}}`}}r.cache={},r.clearCache=()=>r.cache={},e.exports=r},function(e,t,s){"use strict";
/*!
 * is-number <https://github.com/jonschlinkert/is-number>
 *
 * Copyright (c) 2014-present, Jon Schlinkert.
 * Released under the MIT License.
 */e.exports=function(e){return"number"==typeof e?e-e==0:"string"==typeof e&&""!==e.trim()&&(Number.isFinite?Number.isFinite(+e):isFinite(+e))}},function(e,t,s){"use strict";const n=s(17),r=s(11),i=s(12),o=(e="",t="",s=!1)=>{let n=[];if(e=[].concat(e),!(t=[].concat(t)).length)return e;if(!e.length)return s?i.flatten(t).map(e=>`{${e}}`):t;for(let r of e)if(Array.isArray(r))for(let e of r)n.push(o(e,t,s));else for(let e of t)!0===s&&"string"==typeof e&&(e=`{${e}}`),n.push(Array.isArray(e)?o(r,e,s):r+e);return i.flatten(n)};e.exports=(e,t={})=>{let s=void 0===t.rangeLimit?1e3:t.rangeLimit,a=(e,l={})=>{e.queue=[];let u=l,c=l.queue;for(;"brace"!==u.type&&"root"!==u.type&&u.parent;)u=u.parent,c=u.queue;if(e.invalid||e.dollar)return void c.push(o(c.pop(),r(e,t)));if("brace"===e.type&&!0!==e.invalid&&2===e.nodes.length)return void c.push(o(c.pop(),["{}"]));if(e.nodes&&e.ranges>0){let a=i.reduce(e.nodes);if(i.exceedsLimit(...a,t.step,s))throw new RangeError("expanded array length exceeds range limit. Use options.rangeLimit to increase or disable the limit.");let l=n(...a,t);return 0===l.length&&(l=r(e,t)),c.push(o(c.pop(),l)),void(e.nodes=[])}let h=i.encloseBrace(e),p=e.queue,f=e;for(;"brace"!==f.type&&"root"!==f.type&&f.parent;)f=f.parent,p=f.queue;for(let t=0;t<e.nodes.length;t++){let s=e.nodes[t];"comma"!==s.type||"brace"!==e.type?"close"!==s.type?s.value&&"open"!==s.type?p.push(o(p.pop(),s.value)):s.nodes&&a(s,e):c.push(o(c.pop(),p,h)):(1===t&&p.push(""),p.push(""))}return p};return i.flatten(a(e))}},function(e,t,s){"use strict";const n=s(11),{MAX_LENGTH:r,CHAR_BACKSLASH:i,CHAR_BACKTICK:o,CHAR_COMMA:a,CHAR_DOT:l,CHAR_LEFT_PARENTHESES:u,CHAR_RIGHT_PARENTHESES:c,CHAR_LEFT_CURLY_BRACE:h,CHAR_RIGHT_CURLY_BRACE:p,CHAR_LEFT_SQUARE_BRACKET:f,CHAR_RIGHT_SQUARE_BRACKET:d,CHAR_DOUBLE_QUOTE:g,CHAR_SINGLE_QUOTE:m,CHAR_NO_BREAK_SPACE:y,CHAR_ZERO_WIDTH_NOBREAK_SPACE:b}=s(35);e.exports=(e,t={})=>{if("string"!=typeof e)throw new TypeError("Expected a string");let s=t||{},R="number"==typeof s.maxLength?Math.min(r,s.maxLength):r;if(e.length>R)throw new SyntaxError(`Input length (${e.length}), exceeds max characters (${R})`);let A,v={type:"root",input:e,nodes:[]},C=[v],E=v,x=v,S=0,_=e.length,w=0,T=0;const I=()=>e[w++],H=e=>{if("text"===e.type&&"dot"===x.type&&(x.type="text"),!x||"text"!==x.type||"text"!==e.type)return E.nodes.push(e),e.parent=E,e.prev=x,x=e,e;x.value+=e.value};for(H({type:"bos"});w<_;)if(E=C[C.length-1],A=I(),A!==b&&A!==y)if(A!==i)if(A!==d)if(A!==f)if(A!==u)if(A!==c)if(A!==g&&A!==m&&A!==o)if(A!==h)if(A!==p)if(A===a&&T>0){if(E.ranges>0){E.ranges=0;let e=E.nodes.shift();E.nodes=[e,{type:"text",value:n(E)}]}H({type:"comma",value:A}),E.commas++}else if(A===l&&T>0&&0===E.commas){let e=E.nodes;if(0===T||0===e.length){H({type:"text",value:A});continue}if("dot"===x.type){if(E.range=[],x.value+=A,x.type="range",3!==E.nodes.length&&5!==E.nodes.length){E.invalid=!0,E.ranges=0,x.type="text";continue}E.ranges++,E.args=[];continue}if("range"===x.type){e.pop();let t=e[e.length-1];t.value+=x.value+A,x=t,E.ranges--;continue}H({type:"dot",value:A})}else H({type:"text",value:A});else{if("brace"!==E.type){H({type:"text",value:A});continue}let e="close";E=C.pop(),E.close=!0,H({type:e,value:A}),T--,E=C[C.length-1]}else{T++;let e=x.value&&"$"===x.value.slice(-1)||!0===E.dollar;E=H({type:"brace",open:!0,close:!1,dollar:e,depth:T,commas:0,ranges:0,nodes:[]}),C.push(E),H({type:"open",value:A})}else{let e,s=A;for(!0!==t.keepQuotes&&(A="");w<_&&(e=I());)if(e!==i){if(e===s){!0===t.keepQuotes&&(A+=e);break}A+=e}else A+=e+I();H({type:"text",value:A})}else{if("paren"!==E.type){H({type:"text",value:A});continue}E=C.pop(),H({type:"text",value:A}),E=C[C.length-1]}else E=H({type:"paren",nodes:[]}),C.push(E),H({type:"text",value:A});else{S++;let e;for(;w<_&&(e=I());)if(A+=e,e!==f)if(e!==i){if(e===d&&(S--,0===S))break}else A+=I();else S++;H({type:"text",value:A})}else H({type:"text",value:"\\"+A});else H({type:"text",value:(t.keepEscaping?A:"")+I()});do{if(E=C.pop(),"root"!==E.type){E.nodes.forEach(e=>{e.nodes||("open"===e.type&&(e.isOpen=!0),"close"===e.type&&(e.isClose=!0),e.nodes||(e.type="text"),e.invalid=!0)});let e=C[C.length-1],t=e.nodes.indexOf(E);e.nodes.splice(t,1,...E.nodes)}}while(C.length>0);return H({type:"eos"}),v}},function(e,t,s){"use strict";e.exports={MAX_LENGTH:65536,CHAR_0:"0",CHAR_9:"9",CHAR_UPPERCASE_A:"A",CHAR_LOWERCASE_A:"a",CHAR_UPPERCASE_Z:"Z",CHAR_LOWERCASE_Z:"z",CHAR_LEFT_PARENTHESES:"(",CHAR_RIGHT_PARENTHESES:")",CHAR_ASTERISK:"*",CHAR_AMPERSAND:"&",CHAR_AT:"@",CHAR_BACKSLASH:"\\",CHAR_BACKTICK:"`",CHAR_CARRIAGE_RETURN:"\r",CHAR_CIRCUMFLEX_ACCENT:"^",CHAR_COLON:":",CHAR_COMMA:",",CHAR_DOLLAR:"$",CHAR_DOT:".",CHAR_DOUBLE_QUOTE:'"',CHAR_EQUAL:"=",CHAR_EXCLAMATION_MARK:"!",CHAR_FORM_FEED:"\f",CHAR_FORWARD_SLASH:"/",CHAR_HASH:"#",CHAR_HYPHEN_MINUS:"-",CHAR_LEFT_ANGLE_BRACKET:"<",CHAR_LEFT_CURLY_BRACE:"{",CHAR_LEFT_SQUARE_BRACKET:"[",CHAR_LINE_FEED:"\n",CHAR_NO_BREAK_SPACE:"",CHAR_PERCENT:"%",CHAR_PLUS:"+",CHAR_QUESTION_MARK:"?",CHAR_RIGHT_ANGLE_BRACKET:">",CHAR_RIGHT_CURLY_BRACE:"}",CHAR_RIGHT_SQUARE_BRACKET:"]",CHAR_SEMICOLON:";",CHAR_SINGLE_QUOTE:"'",CHAR_SPACE:" ",CHAR_TAB:"\t",CHAR_UNDERSCORE:"_",CHAR_VERTICAL_LINE:"|",CHAR_ZERO_WIDTH_NOBREAK_SPACE:"\ufeff"}},function(e,t,s){"use strict";e.exports=s(37)},function(e,t,s){"use strict";const n=s(2),r=s(38),i=s(39),o=s(7),a=s(8),l=(e,t,s=!1)=>{if(Array.isArray(e)){const n=e.map(e=>l(e,t,s));return e=>{for(const t of n){const s=t(e);if(s)return s}return!1}}const n=(r=e)&&"object"==typeof r&&!Array.isArray(r)&&e.tokens&&e.input;var r;if(""===e||"string"!=typeof e&&!n)throw new TypeError("Expected pattern to be a non-empty string");const i=t||{},a=o.isWindows(t),u=n?l.compileRe(e,t):l.makeRe(e,t,!1,!0),c=u.state;delete u.state;let h=()=>!1;if(i.ignore){const e={...t,ignore:null,onMatch:null,onResult:null};h=l(i.ignore,e,s)}const p=(s,n=!1)=>{const{isMatch:r,match:o,output:p}=l.test(s,u,t,{glob:e,posix:a}),f={glob:e,state:c,regex:u,posix:a,input:s,output:p,match:o,isMatch:r};return"function"==typeof i.onResult&&i.onResult(f),!1===r?(f.isMatch=!1,!!n&&f):h(s)?("function"==typeof i.onIgnore&&i.onIgnore(f),f.isMatch=!1,!!n&&f):("function"==typeof i.onMatch&&i.onMatch(f),!n||f)};return s&&(p.state=c),p};l.test=(e,t,s,{glob:n,posix:r}={})=>{if("string"!=typeof e)throw new TypeError("Expected input to be a string");if(""===e)return{isMatch:!1,output:""};const i=s||{},a=i.format||(r?o.toPosixSlashes:null);let u=e===n,c=u&&a?a(e):e;return!1===u&&(c=a?a(e):e,u=c===n),!1!==u&&!0!==i.capture||(u=!0===i.matchBase||!0===i.basename?l.matchBase(e,t,s,r):t.exec(c)),{isMatch:Boolean(u),match:u,output:c}},l.matchBase=(e,t,s,r=o.isWindows(s))=>(t instanceof RegExp?t:l.makeRe(t,s)).test(n.basename(e)),l.isMatch=(e,t,s)=>l(t,s)(e),l.parse=(e,t)=>Array.isArray(e)?e.map(e=>l.parse(e,t)):i(e,{...t,fastpaths:!1}),l.scan=(e,t)=>r(e,t),l.compileRe=(e,t,s=!1,n=!1)=>{if(!0===s)return e.output;const r=t||{},i=r.contains?"":"^",o=r.contains?"":"$";let a=`${i}(?:${e.output})${o}`;e&&!0===e.negated&&(a=`^(?!${a}).*$`);const u=l.toRegex(a,t);return!0===n&&(u.state=e),u},l.makeRe=(e,t,s=!1,n=!1)=>{if(!e||"string"!=typeof e)throw new TypeError("Expected a non-empty string");const r=t||{};let o,a={negated:!1,fastpaths:!0},u="";return e.startsWith("./")&&(e=e.slice(2),u=a.prefix="./"),!1===r.fastpaths||"."!==e[0]&&"*"!==e[0]||(o=i.fastpaths(e,t)),void 0===o?(a=i(e,t),a.prefix=u+(a.prefix||"")):a.output=o,l.compileRe(a,t,s,n)},l.toRegex=(e,t)=>{try{const s=t||{};return new RegExp(e,s.flags||(s.nocase?"i":""))}catch(e){if(t&&!0===t.debug)throw e;return/$^/}},l.constants=a,e.exports=l},function(e,t,s){"use strict";const n=s(7),{CHAR_ASTERISK:r,CHAR_AT:i,CHAR_BACKWARD_SLASH:o,CHAR_COMMA:a,CHAR_DOT:l,CHAR_EXCLAMATION_MARK:u,CHAR_FORWARD_SLASH:c,CHAR_LEFT_CURLY_BRACE:h,CHAR_LEFT_PARENTHESES:p,CHAR_LEFT_SQUARE_BRACKET:f,CHAR_PLUS:d,CHAR_QUESTION_MARK:g,CHAR_RIGHT_CURLY_BRACE:m,CHAR_RIGHT_PARENTHESES:y,CHAR_RIGHT_SQUARE_BRACKET:b}=s(8),R=e=>e===c||e===o,A=e=>{!0!==e.isPrefix&&(e.depth=e.isGlobstar?1/0:1)};e.exports=(e,t)=>{const s=t||{},v=e.length-1,C=!0===s.parts||!0===s.scanToEnd,E=[],x=[],S=[];let _,w,T=e,I=-1,H=0,O=0,$=!1,L=!1,k=!1,N=!1,D=!1,P=!1,M=!1,B=!1,j=!1,F=0,G={value:"",depth:0,isGlob:!1};const U=()=>I>=v,K=()=>(_=w,T.charCodeAt(++I));for(;I<v;){let e;if(w=K(),w!==o){if(!0===P||w===h){for(F++;!0!==U()&&(w=K());)if(w!==o)if(w!==h){if(!0!==P&&w===l&&(w=K())===l){if($=G.isBrace=!0,k=G.isGlob=!0,j=!0,!0===C)continue;break}if(!0!==P&&w===a){if($=G.isBrace=!0,k=G.isGlob=!0,j=!0,!0===C)continue;break}if(w===m&&(F--,0===F)){P=!1,$=G.isBrace=!0,j=!0;break}}else F++;else M=G.backslashes=!0,K();if(!0===C)continue;break}if(w!==c){if(!0!==s.noext){if(!0===(w===d||w===i||w===r||w===g||w===u)&&T.charCodeAt(I+1)===p){if(k=G.isGlob=!0,N=G.isExtglob=!0,j=!0,!0===C){for(;!0!==U()&&(w=K());)if(w!==o){if(w===y){k=G.isGlob=!0,j=!0;break}}else M=G.backslashes=!0,w=K();continue}break}}if(w===r){if(_===r&&(D=G.isGlobstar=!0),k=G.isGlob=!0,j=!0,!0===C)continue;break}if(w===g){if(k=G.isGlob=!0,j=!0,!0===C)continue;break}if(w===f)for(;!0!==U()&&(e=K());)if(e!==o){if(e===b){if(L=G.isBracket=!0,k=G.isGlob=!0,j=!0,!0===C)continue;break}}else M=G.backslashes=!0,K();if(!0===s.nonegate||w!==u||I!==H){if(!0!==s.noparen&&w===p){if(k=G.isGlob=!0,!0===C){for(;!0!==U()&&(w=K());)if(w!==p){if(w===y){j=!0;break}}else M=G.backslashes=!0,w=K();continue}break}if(!0===k){if(j=!0,!0===C)continue;break}}else B=G.negated=!0,H++}else{if(E.push(I),x.push(G),G={value:"",depth:0,isGlob:!1},!0===j)continue;if(_===l&&I===H+1){H+=2;continue}O=I+1}}else M=G.backslashes=!0,w=K(),w===h&&(P=!0)}!0===s.noext&&(N=!1,k=!1);let Q=T,W="",z="";H>0&&(W=T.slice(0,H),T=T.slice(H),O-=H),Q&&!0===k&&O>0?(Q=T.slice(0,O),z=T.slice(O)):!0===k?(Q="",z=T):Q=T,Q&&""!==Q&&"/"!==Q&&Q!==T&&R(Q.charCodeAt(Q.length-1))&&(Q=Q.slice(0,-1)),!0===s.unescape&&(z&&(z=n.removeBackslashes(z)),Q&&!0===M&&(Q=n.removeBackslashes(Q)));const X={prefix:W,input:e,start:H,base:Q,glob:z,isBrace:$,isBracket:L,isGlob:k,isExtglob:N,isGlobstar:D,negated:B};if(!0===s.tokens&&(X.maxDepth=0,R(w)||x.push(G),X.tokens=x),!0===s.parts||!0===s.tokens){let t;for(let n=0;n<E.length;n++){const r=t?t+1:H,i=E[n],o=e.slice(r,i);s.tokens&&(0===n&&0!==H?(x[n].isPrefix=!0,x[n].value=W):x[n].value=o,A(x[n]),X.maxDepth+=x[n].depth),0===n&&""===o||S.push(o),t=i}if(t&&t+1<e.length){const n=e.slice(t+1);S.push(n),s.tokens&&(x[x.length-1].value=n,A(x[x.length-1]),X.maxDepth+=x[x.length-1].depth)}X.slashes=E,X.parts=S}return X}},function(e,t,s){"use strict";const n=s(8),r=s(7),{MAX_LENGTH:i,POSIX_REGEX_SOURCE:o,REGEX_NON_SPECIAL_CHARS:a,REGEX_SPECIAL_CHARS_BACKREF:l,REPLACEMENTS:u}=n,c=(e,t)=>{if("function"==typeof t.expandRange)return t.expandRange(...e,t);e.sort();const s=`[${e.join("-")}]`;try{new RegExp(s)}catch(t){return e.map(e=>r.escapeRegex(e)).join("..")}return s},h=(e,t)=>`Missing ${e}: "${t}" - use "\\\\${t}" to match literal characters`,p=(e,t)=>{if("string"!=typeof e)throw new TypeError("Expected a string");e=u[e]||e;const s={...t},p="number"==typeof s.maxLength?Math.min(i,s.maxLength):i;let f=e.length;if(f>p)throw new SyntaxError(`Input length: ${f}, exceeds maximum allowed length: ${p}`);const d={type:"bos",value:"",output:s.prepend||""},g=[d],m=s.capture?"":"?:",y=r.isWindows(t),b=n.globChars(y),R=n.extglobChars(b),{DOT_LITERAL:A,PLUS_LITERAL:v,SLASH_LITERAL:C,ONE_CHAR:E,DOTS_SLASH:x,NO_DOT:S,NO_DOT_SLASH:_,NO_DOTS_SLASH:w,QMARK:T,QMARK_NO_DOT:I,STAR:H,START_ANCHOR:O}=b,$=e=>`(${m}(?:(?!${O}${e.dot?x:A}).)*?)`,L=s.dot?"":S,k=s.dot?T:I;let N=!0===s.bash?$(s):H;s.capture&&(N=`(${N})`),"boolean"==typeof s.noext&&(s.noextglob=s.noext);const D={input:e,index:-1,start:0,dot:!0===s.dot,consumed:"",output:"",prefix:"",backtrack:!1,negated:!1,brackets:0,braces:0,parens:0,quotes:0,globstar:!1,tokens:g};e=r.removePrefix(e,D),f=e.length;const P=[],M=[],B=[];let j,F=d;const G=()=>D.index===f-1,U=D.peek=(t=1)=>e[D.index+t],K=D.advance=()=>e[++D.index],Q=()=>e.slice(D.index+1),W=(e="",t=0)=>{D.consumed+=e,D.index+=t},z=e=>{D.output+=null!=e.output?e.output:e.value,W(e.value)},X=()=>{let e=1;for(;"!"===U()&&("("!==U(2)||"?"===U(3));)K(),D.start++,e++;return e%2!=0&&(D.negated=!0,D.start++,!0)},q=e=>{D[e]++,B.push(e)},Z=e=>{D[e]--,B.pop()},V=e=>{if("globstar"===F.type){const t=D.braces>0&&("comma"===e.type||"brace"===e.type),s=!0===e.extglob||P.length&&("pipe"===e.type||"paren"===e.type);"slash"===e.type||"paren"===e.type||t||s||(D.output=D.output.slice(0,-F.output.length),F.type="star",F.value="*",F.output=N,D.output+=F.output)}if(P.length&&"paren"!==e.type&&!R[e.value]&&(P[P.length-1].inner+=e.value),(e.value||e.output)&&z(e),F&&"text"===F.type&&"text"===e.type)return F.value+=e.value,void(F.output=(F.output||"")+e.value);e.prev=F,g.push(e),F=e},Y=(e,t)=>{const n={...R[t],conditions:1,inner:""};n.prev=F,n.parens=D.parens,n.output=D.output;const r=(s.capture?"(":"")+n.open;q("parens"),V({type:e,value:t,output:D.output?"":E}),V({type:"paren",extglob:!0,value:K(),output:r}),P.push(n)},J=e=>{let t=e.close+(s.capture?")":"");if("negate"===e.type){let n=N;e.inner&&e.inner.length>1&&e.inner.includes("/")&&(n=$(s)),(n!==N||G()||/^\)+$/.test(Q()))&&(t=e.close=`)$))${n}`),"bos"===e.prev.type&&G()&&(D.negatedExtglob=!0)}V({type:"paren",extglob:!0,value:j,output:t}),Z("parens")};if(!1!==s.fastpaths&&!/(^[*!]|[/()[\]{}"])/.test(e)){let n=!1,i=e.replace(l,(e,t,s,r,i,o)=>"\\"===r?(n=!0,e):"?"===r?t?t+r+(i?T.repeat(i.length):""):0===o?k+(i?T.repeat(i.length):""):T.repeat(s.length):"."===r?A.repeat(s.length):"*"===r?t?t+r+(i?N:""):N:t?e:`\\${e}`);return!0===n&&(i=!0===s.unescape?i.replace(/\\/g,""):i.replace(/\\+/g,e=>e.length%2==0?"\\\\":e?"\\":"")),i===e&&!0===s.contains?(D.output=e,D):(D.output=r.wrapOutput(i,D,t),D)}for(;!G();){if(j=K(),"\0"===j)continue;if("\\"===j){const e=U();if("/"===e&&!0!==s.bash)continue;if("."===e||";"===e)continue;if(!e){j+="\\",V({type:"text",value:j});continue}const t=/^\\+/.exec(Q());let n=0;if(t&&t[0].length>2&&(n=t[0].length,D.index+=n,n%2!=0&&(j+="\\")),!0===s.unescape?j=K()||"":j+=K()||"",0===D.brackets){V({type:"text",value:j});continue}}if(D.brackets>0&&("]"!==j||"["===F.value||"[^"===F.value)){if(!1!==s.posix&&":"===j){const e=F.value.slice(1);if(e.includes("[")&&(F.posix=!0,e.includes(":"))){const e=F.value.lastIndexOf("["),t=F.value.slice(0,e),s=F.value.slice(e+2),n=o[s];if(n){F.value=t+n,D.backtrack=!0,K(),d.output||1!==g.indexOf(F)||(d.output=E);continue}}}("["===j&&":"!==U()||"-"===j&&"]"===U())&&(j=`\\${j}`),"]"!==j||"["!==F.value&&"[^"!==F.value||(j=`\\${j}`),!0===s.posix&&"!"===j&&"["===F.value&&(j="^"),F.value+=j,z({value:j});continue}if(1===D.quotes&&'"'!==j){j=r.escapeRegex(j),F.value+=j,z({value:j});continue}if('"'===j){D.quotes=1===D.quotes?0:1,!0===s.keepQuotes&&V({type:"text",value:j});continue}if("("===j){q("parens"),V({type:"paren",value:j});continue}if(")"===j){if(0===D.parens&&!0===s.strictBrackets)throw new SyntaxError(h("opening","("));const e=P[P.length-1];if(e&&D.parens===e.parens+1){J(P.pop());continue}V({type:"paren",value:j,output:D.parens?")":"\\)"}),Z("parens");continue}if("["===j){if(!0!==s.nobracket&&Q().includes("]"))q("brackets");else{if(!0!==s.nobracket&&!0===s.strictBrackets)throw new SyntaxError(h("closing","]"));j=`\\${j}`}V({type:"bracket",value:j});continue}if("]"===j){if(!0===s.nobracket||F&&"bracket"===F.type&&1===F.value.length){V({type:"text",value:j,output:`\\${j}`});continue}if(0===D.brackets){if(!0===s.strictBrackets)throw new SyntaxError(h("opening","["));V({type:"text",value:j,output:`\\${j}`});continue}Z("brackets");const e=F.value.slice(1);if(!0===F.posix||"^"!==e[0]||e.includes("/")||(j=`/${j}`),F.value+=j,z({value:j}),!1===s.literalBrackets||r.hasRegexChars(e))continue;const t=r.escapeRegex(F.value);if(D.output=D.output.slice(0,-F.value.length),!0===s.literalBrackets){D.output+=t,F.value=t;continue}F.value=`(${m}${t}|${F.value})`,D.output+=F.value;continue}if("{"===j&&!0!==s.nobrace){q("braces");const e={type:"brace",value:j,output:"(",outputIndex:D.output.length,tokensIndex:D.tokens.length};M.push(e),V(e);continue}if("}"===j){const e=M[M.length-1];if(!0===s.nobrace||!e){V({type:"text",value:j,output:j});continue}let t=")";if(!0===e.dots){const e=g.slice(),n=[];for(let t=e.length-1;t>=0&&(g.pop(),"brace"!==e[t].type);t--)"dots"!==e[t].type&&n.unshift(e[t].value);t=c(n,s),D.backtrack=!0}if(!0!==e.comma&&!0!==e.dots){const s=D.output.slice(0,e.outputIndex),n=D.tokens.slice(e.tokensIndex);e.value=e.output="\\{",j=t="\\}",D.output=s;for(const e of n)D.output+=e.output||e.value}V({type:"brace",value:j,output:t}),Z("braces"),M.pop();continue}if("|"===j){P.length>0&&P[P.length-1].conditions++,V({type:"text",value:j});continue}if(","===j){let e=j;const t=M[M.length-1];t&&"braces"===B[B.length-1]&&(t.comma=!0,e="|"),V({type:"comma",value:j,output:e});continue}if("/"===j){if("dot"===F.type&&D.index===D.start+1){D.start=D.index+1,D.consumed="",D.output="",g.pop(),F=d;continue}V({type:"slash",value:j,output:C});continue}if("."===j){if(D.braces>0&&"dot"===F.type){"."===F.value&&(F.output=A);const e=M[M.length-1];F.type="dots",F.output+=j,F.value+=j,e.dots=!0;continue}if(D.braces+D.parens===0&&"bos"!==F.type&&"slash"!==F.type){V({type:"text",value:j,output:A});continue}V({type:"dot",value:j,output:A});continue}if("?"===j){if(!(F&&"("===F.value)&&!0!==s.noextglob&&"("===U()&&"?"!==U(2)){Y("qmark",j);continue}if(F&&"paren"===F.type){const e=U();let t=j;if("<"===e&&!r.supportsLookbehinds())throw new Error("Node.js v10 or higher is required for regex lookbehinds");("("===F.value&&!/[!=<:]/.test(e)||"<"===e&&!/<([!=]|\w+>)/.test(Q()))&&(t=`\\${j}`),V({type:"text",value:j,output:t});continue}if(!0!==s.dot&&("slash"===F.type||"bos"===F.type)){V({type:"qmark",value:j,output:I});continue}V({type:"qmark",value:j,output:T});continue}if("!"===j){if(!0!==s.noextglob&&"("===U()&&("?"!==U(2)||!/[!=<:]/.test(U(3)))){Y("negate",j);continue}if(!0!==s.nonegate&&0===D.index){X();continue}}if("+"===j){if(!0!==s.noextglob&&"("===U()&&"?"!==U(2)){Y("plus",j);continue}if(F&&"("===F.value||!1===s.regex){V({type:"plus",value:j,output:v});continue}if(F&&("bracket"===F.type||"paren"===F.type||"brace"===F.type)||D.parens>0){V({type:"plus",value:j});continue}V({type:"plus",value:v});continue}if("@"===j){if(!0!==s.noextglob&&"("===U()&&"?"!==U(2)){V({type:"at",extglob:!0,value:j,output:""});continue}V({type:"text",value:j});continue}if("*"!==j){"$"!==j&&"^"!==j||(j=`\\${j}`);const e=a.exec(Q());e&&(j+=e[0],D.index+=e[0].length),V({type:"text",value:j});continue}if(F&&("globstar"===F.type||!0===F.star)){F.type="star",F.star=!0,F.value+=j,F.output=N,D.backtrack=!0,D.globstar=!0,W(j);continue}let t=Q();if(!0!==s.noextglob&&/^\([^?]/.test(t)){Y("star",j);continue}if("star"===F.type){if(!0===s.noglobstar){W(j);continue}const n=F.prev,r=n.prev,i="slash"===n.type||"bos"===n.type,o=r&&("star"===r.type||"globstar"===r.type);if(!0===s.bash&&(!i||t[0]&&"/"!==t[0])){V({type:"star",value:j,output:""});continue}const a=D.braces>0&&("comma"===n.type||"brace"===n.type),l=P.length&&("pipe"===n.type||"paren"===n.type);if(!i&&"paren"!==n.type&&!a&&!l){V({type:"star",value:j,output:""});continue}for(;"/**"===t.slice(0,3);){const s=e[D.index+4];if(s&&"/"!==s)break;t=t.slice(3),W("/**",3)}if("bos"===n.type&&G()){F.type="globstar",F.value+=j,F.output=$(s),D.output=F.output,D.globstar=!0,W(j);continue}if("slash"===n.type&&"bos"!==n.prev.type&&!o&&G()){D.output=D.output.slice(0,-(n.output+F.output).length),n.output=`(?:${n.output}`,F.type="globstar",F.output=$(s)+(s.strictSlashes?")":"|$)"),F.value+=j,D.globstar=!0,D.output+=n.output+F.output,W(j);continue}if("slash"===n.type&&"bos"!==n.prev.type&&"/"===t[0]){const e=void 0!==t[1]?"|$":"";D.output=D.output.slice(0,-(n.output+F.output).length),n.output=`(?:${n.output}`,F.type="globstar",F.output=`${$(s)}${C}|${C}${e})`,F.value+=j,D.output+=n.output+F.output,D.globstar=!0,W(j+K()),V({type:"slash",value:"/",output:""});continue}if("bos"===n.type&&"/"===t[0]){F.type="globstar",F.value+=j,F.output=`(?:^|${C}|${$(s)}${C})`,D.output=F.output,D.globstar=!0,W(j+K()),V({type:"slash",value:"/",output:""});continue}D.output=D.output.slice(0,-F.output.length),F.type="globstar",F.output=$(s),F.value+=j,D.output+=F.output,D.globstar=!0,W(j);continue}const n={type:"star",value:j,output:N};!0!==s.bash?!F||"bracket"!==F.type&&"paren"!==F.type||!0!==s.regex?(D.index!==D.start&&"slash"!==F.type&&"dot"!==F.type||("dot"===F.type?(D.output+=_,F.output+=_):!0===s.dot?(D.output+=w,F.output+=w):(D.output+=L,F.output+=L),"*"!==U()&&(D.output+=E,F.output+=E)),V(n)):(n.output=j,V(n)):(n.output=".*?","bos"!==F.type&&"slash"!==F.type||(n.output=L+n.output),V(n))}for(;D.brackets>0;){if(!0===s.strictBrackets)throw new SyntaxError(h("closing","]"));D.output=r.escapeLast(D.output,"["),Z("brackets")}for(;D.parens>0;){if(!0===s.strictBrackets)throw new SyntaxError(h("closing",")"));D.output=r.escapeLast(D.output,"("),Z("parens")}for(;D.braces>0;){if(!0===s.strictBrackets)throw new SyntaxError(h("closing","}"));D.output=r.escapeLast(D.output,"{"),Z("braces")}if(!0===s.strictSlashes||"star"!==F.type&&"bracket"!==F.type||V({type:"maybe_slash",value:"",output:`${C}?`}),!0===D.backtrack){D.output="";for(const e of D.tokens)D.output+=null!=e.output?e.output:e.value,e.suffix&&(D.output+=e.suffix)}return D};p.fastpaths=(e,t)=>{const s={...t},o="number"==typeof s.maxLength?Math.min(i,s.maxLength):i,a=e.length;if(a>o)throw new SyntaxError(`Input length: ${a}, exceeds maximum allowed length: ${o}`);e=u[e]||e;const l=r.isWindows(t),{DOT_LITERAL:c,SLASH_LITERAL:h,ONE_CHAR:p,DOTS_SLASH:f,NO_DOT:d,NO_DOTS:g,NO_DOTS_SLASH:m,STAR:y,START_ANCHOR:b}=n.globChars(l),R=s.dot?g:d,A=s.dot?m:d,v=s.capture?"":"?:";let C=!0===s.bash?".*?":y;s.capture&&(C=`(${C})`);const E=e=>!0===e.noglobstar?C:`(${v}(?:(?!${b}${e.dot?f:c}).)*?)`,x=e=>{switch(e){case"*":return`${R}${p}${C}`;case".*":return`${c}${p}${C}`;case"*.*":return`${R}${C}${c}${p}${C}`;case"*/*":return`${R}${C}${h}${p}${A}${C}`;case"**":return R+E(s);case"**/*":return`(?:${R}${E(s)}${h})?${A}${p}${C}`;case"**/*.*":return`(?:${R}${E(s)}${h})?${A}${C}${c}${p}${C}`;case"**/.*":return`(?:${R}${E(s)}${h})?${c}${p}${C}`;default:{const t=/^(.*?)\.(\w+)$/.exec(e);if(!t)return;const s=x(t[1]);if(!s)return;return s+c+t[2]}}},S=r.removePrefix(e,{negated:!1,prefix:""});let _=x(S);return _&&!0!==s.strictSlashes&&(_+=`${h}?`),_},e.exports=p},function(e,t,s){"use strict";const n=s(2),{CompositeDisposable:r}=s(0),{escapeRegExp:i}=s(13),o=s(1),a=s(5);e.exports=new class extends a{constructor(){super({name:"usertypes",priority:3,matchesFiles:!0,matchesDirs:!1,ignoreVirtual:!1}),this.configDisposable=null,this.customTypes=null,this.customTypeIcons=null,this.hasCustomTypes=!1}enable(){if(!this.enabled&&!this.configDisposable){this.customTypes=new Map,this.customTypeIcons=new Map,this.hasCustomTypes=!1,this.configDisposable=new r(atom.config.onDidChange("core.customFileTypes",e=>{this.updateCustomTypes(e.newValue),this.checkAll(!1)}));const e=atom.config.get("core.customFileTypes");this.updateCustomTypes(e)}return super.enable()}disable(){return this.enabled&&this.configDisposable&&(this.configDisposable.dispose(),this.configDisposable=null,this.customTypes=null,this.customTypeIcons=null,this.hasCustomTypes=!1),super.disable()}matchIcon(e){if(!this.hasCustomTypes)return null;for(const[t,s]of this.customTypes){const{names:n,paths:r}=s;if(null!==n&&n.test(e.name)||null!==r&&r.test(e.path))return this.customTypeIcons.get(t)}return null}updateCustomTypes(e){this.customTypes.clear(),this.customTypeIcons.clear();for(const t in e){const s=o.matchScope(t);if(!s)continue;this.customTypeIcons.set(t,s);const r=[],i=[],a=e[t];for(let e=0,t=a.length;e<t;++e){const t=a[e];-1===t.indexOf(n.sep)?r.push(t):i.push(t)}this.customTypes.set(t,{names:this.makeNamePattern(r),paths:this.makePathPattern(i)})}this.hasCustomTypes=!!this.customTypes.size}makeNamePattern(e){const{length:t}=e;return t?(e=e.map(e=>i(e.replace(/^\./,""))).join("|"),t>1&&(e=`(?:${e})`),new RegExp("(?:^|\\.)"+e+"$","i")):null}makePathPattern(e){const{length:t}=e;return t?(e=e.map(e=>i(e)).join("|"),t>1&&(e=`(?:${e})`),new RegExp("(?:^|[\\/\\\\])"+e+"$","i")):null}}},function(e,t,s){"use strict";const{CompositeDisposable:n,Disposable:r}=s(0),i=s(1),o=s(5);e.exports=new class extends o{constructor(){super({name:"grammar",priority:7,matchesFiles:!0,matchesDirs:!1})}enable(){switch(atom.getVersion().replace(/^v/i,"").toLowerCase()){case"1.24.0":case"1.25.0-beta0":if(!atom.inSpecMode())return!1}return super.enable()}registerResource(e){if(super.registerResource(e)){const t=this.resourceEvents.get(e),s=new n;s.add(new r(()=>t.remove(s)),e.onDidDetachEditor(()=>s.dispose()),e.observeEditors(t=>{s.add(t.observeGrammar(()=>{const t=this.matchIcon(e);t?this.addIcon(e,t):this.deleteIcon(e)}))})),t.add(s)}}matchIcon(e){const t=e.getEditor();if(t){const e=atom.textEditors.getGrammarOverride(t),s=atom.grammars.grammarForScopeName(e);return s?i.matchScope(s.scopeName):null}return null}}},function(e,t,s){"use strict";const n=s(1),r=s(5);e.exports=new class extends r{constructor(){super({priority:1,matchesFiles:!0,matchesDirs:!0,noSetting:!0,ignoreVirtual:!1})}registerResource(e){if(super.registerResource(e)){const t=this.resourceEvents.get(e);return t.add(e.onDidMove(()=>this.check(e,!1))),this.resourceEvents.set(e,t),!0}return!1}matchIcon(e){let t=null;if(e.isDirectory)return n.matchPath(e.path,!0)||n.matchName(e.name,!0)||null;{let{name:s}=e,r=e.realPath||e.path,i=!1;const o=this.filter(s)||s;return o!==s&&(i=!0,s=o,r=this.filter(r)),t=n.matchPath(r)||n.matchName(s)||null,i&&(null===t||t.priority<1)&&(t=n.matchName(e.name)),t||null}}filter(e){return e.replace(/~(?:orig|previous)$/,"").replace(/^([^.]*\.[^.]+)\.(?:inc?|dist|tm?pl|te?mp|ti?dy)$/i,"$1")}}},function(e,t,s){"use strict";const{CompositeDisposable:n,Emitter:r}=s(0),{EntityType:i,normalisePath:o}=s(3),a=s(15),l=s(1),u=s(4),c=s(6);class h{constructor(e){this.resource=e,this.disposables=new n,this.emitter=new r,this.icons=[],this.numIcons=0,this.deserialise()}destroy(){this.destroyed||(this.destroyed=!0,this.emitter.emit("did-destroy"),this.emitter.dispose(),this.emitter=null,this.disposables.dispose(),this.disposables.clear(),this.disposables=null,this.resource=null,this.icons=null)}onDidDestroy(e){return this.emitter.on("did-destroy",e)}onDidChangeIcon(e){return this.emitter.on("did-change-icon",e)}onDidChangeMaster(e){return this.emitter.on("did-change-master",e)}emitIconChange(e,t){this.emitter&&this.emitter.emit("did-change-icon",{from:e,to:t})}getClasses(){const e=u.colourChangedOnly&&!this.resource.vcsStatus?null:u.colourMode,t=this.master?this.master.getCurrentIcon():this.getCurrentIcon();let s=t?t.getClass(e,!0):this.getFallbackClasses();const n=this.getReplacementClass();return n&&(s?s[0]=n:s=[n]),s}getFallbackClasses(){const{resource:e}=this;if(e.type&i.DIRECTORY)return["icon-file-directory"];if(e.isBinary)return["icon-file-binary"];return(u.defaultIconClass||[]).slice(0)}getReplacementClass(){const{resource:e}=this;if(e.isRepository&&e.isRoot)return"icon-repo";if(e.isSymlink){return"icon-file-symlink-"+(e.isDirectory?"directory":"file")}return e.isSubmodule?"icon-file-submodule":""}getCurrentIcon(){if(this.currentIcon)return this.currentIcon;if(this.numIcons>0)for(let e=this.icons.length-1;e>=0;--e){const t=this.icons[e];if(t)return this.setCurrentIcon(t,e),t}return a.query(this.resource),this.currentIcon||null}setCurrentIcon(e,t=null){const s=this.currentIcon;s!==e&&(this.currentIcon=e,null!==t&&(this.currentPriority=t),null===e&&~this.resource.type&i.DIRECTORY&&(e=this.getCurrentIcon()),this.serialise(),this.emitIconChange(s,e))}add(e,t){null==this.icons[t]&&++this.numIcons,this.icons[t]=e,t>=this.currentPriority&&this.setCurrentIcon(e,t)}remove(e,t){this.icons[t]===e&&(this.icons[t]=null,--this.numIcons,this.currentPriority===t&&this.setCurrentIcon(null,-1))}deserialise(){if(!this.resource)return;const e=o(this.resource.path);if(!c.hasIcon(e))return;const{isDirectory:t}=this.resource,s=t?l.directoryIcons:l.fileIcons,{priority:n,index:r,iconClass:i}=c.getPathIcon(e),u=s.byName[r];u&&i===u.icon?this.add(u,n):c.deletePathIcon(e),setImmediate(()=>a.query(this.resource))}serialise(){if(!c.locked){const e=o(this.resource.path),t=this.currentIcon;t?c.setPathIcon(e,{priority:this.currentPriority,iconClass:t.icon,index:t.index}):c.deletePathIcon(e)}}set master(e){if(null==e||e.master===this)return;const t=this.currentIcon;let s=null,r=null;Object.defineProperties(this,{master:{get:()=>s,set:e=>{const i=s;(e=e||null)!==i&&(s=e,r&&(r.dispose(),r=null),e&&e instanceof h&&!e.destroyed&&(r=new n(e.onDidDestroy(()=>this.master=null),e.onDidChangeMaster(e=>this.master=e),e.onDidChangeIcon(e=>{const{from:t,to:s}=e;this.emitIconChange(t,s)}))),this.emitter&&this.emitter.emit("did-change-master",{from:i,to:e}),e=this.currentIcon,this.emitIconChange(t,e))}}}),this.master=e}}h.prototype.destroyed=!1,h.prototype.currentIcon=null,h.prototype.currentPriority=-1,h.prototype.master=null,e.exports=h},function(e,t,s){"use strict";const{CompositeDisposable:n,Disposable:r}=s(0),{FileSystem:i,EntityType:o}=s(3),a=s(4),l=s(9),u=new WeakMap,c=new WeakMap;class h{constructor(e,t,s=!1){const r=e.icon;if(this.disposables=new n,this.resource=e,this.element=t,this.visible=!0,this.classes=null,this.appliedClasses=null,u.set(t,this),null==r)return this.destroy();this.disposables.add(l.onMotifChanged(()=>this.refresh()),a.onDidChange("coloured",()=>this.refresh()),a.onDidChange("colourChangedOnly",()=>this.refresh()),r.onDidChangeIcon(()=>this.refresh()),e.onDidDestroy(()=>this.destroy()),e.onDidChangeVCSStatus(()=>{a.colourChangedOnly&&this.refresh()})),s&&(this.disposables.add(a.onDidChange("tabPaneIcon",e=>this.setVisible(e))),this.setVisible(a.tabPaneIcon)),e.isFile?this.disposables.add(a.onDidChange("defaultIconClass",()=>this.refresh())):r.getCurrentIcon()&&t.classList.remove(...r.getFallbackClasses()),this.refresh()}destroy(){this.destroyed||(this.disposables.dispose(),u.delete(this.element),this.appliedClasses=null,this.classes=null,this.resource=null,this.element=null,this.destroyed=!0)}refresh(){if(this.visible){const e=this.resource.icon.getClasses();this.classesDiffer(e,this.classes)&&(this.removeClasses(),this.classes=e,this.addClasses())}else this.removeClasses(),this.classes=null}setVisible(e){(e=!!e)!==this.visible&&(this.visible=e,this.refresh())}addClasses(){this.visible&&this.classes&&(this.appliedClasses=this.classes,this.element.classList.add(...this.appliedClasses))}removeClasses(){null!==this.appliedClasses&&(this.element.classList.remove(...this.appliedClasses),this.appliedClasses=null)}classesDiffer(e,t){return!e||!t||!(e[0]===t[0]&&e[1]===t[1])}static forElement(e,t,s=o.FILE,n=!1){if(!e)return null;const a=u.get(e);if(a&&!a.destroyed&&c.has(a))return c.get(a);{if(!t)return new r;const o=i.get(t,!1,s),a=new h(o,e,n),l=new r(()=>{c.delete(a),a.removeClasses(),a.destroy()});return c.set(a,l),l}}static getIcon(e){return e&&u.get(e)||null}}h.prototype.destroyed=!1,e.exports=h}]);
//# sourceMappingURL=main.js.map